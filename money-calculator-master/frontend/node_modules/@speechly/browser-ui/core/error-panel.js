!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function r(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t}function c(e,t){e.appendChild(t)}function s(e,t,n){e.insertBefore(t,n||null)}function l(e){e.parentNode.removeChild(e)}function a(e){return document.createElement(e)}function d(e){return document.createTextNode(e)}function u(){return d(" ")}function p(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function h(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function f(e,t,n){e.classList[n?"add":"remove"](t)}function m(e){const t={};for(const n of e)t[n.name]=n.value;return t}let g;function b(e){g=e}const w=[],$=[],y=[],x=[],v=Promise.resolve();let C=!1;function _(e){y.push(e)}let S=!1;const k=new Set;function N(){if(!S){S=!0;do{for(let e=0;e<w.length;e+=1){const t=w[e];b(t),T(t.$$)}for(b(null),w.length=0;$.length;)$.pop()();for(let e=0;e<y.length;e+=1){const t=y[e];k.has(t)||(k.add(t),t())}y.length=0}while(w.length);for(;x.length;)x.pop()();C=!1,S=!1,k.clear()}}function T(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(_)}}const E=new Set;const R="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function A(e,t){-1===e.$$.dirty[0]&&(w.push(e),C||(C=!0,v.then(N)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function z(i,c,s,a,d,u,p,h=[-1]){const f=g;b(i);const m=i.$$={fragment:null,ctx:null,props:u,update:e,not_equal:d,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(c.context||(f?f.$$.context:[])),callbacks:n(),dirty:h,skip_bound:!1,root:c.target||f.$$.root};p&&p(m.root);let w=!1;if(m.ctx=s?s(i,c.props||{},((e,t,...n)=>{const o=n.length?n[0]:t;return m.ctx&&d(m.ctx[e],m.ctx[e]=o)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](o),w&&A(i,e)),t})):[],m.update(),w=!0,o(m.before_update),m.fragment=!!a&&a(m.ctx),c.target){if(c.hydrate){const e=function(e){return Array.from(e.childNodes)}(c.target);m.fragment&&m.fragment.l(e),e.forEach(l)}else m.fragment&&m.fragment.c();c.intro&&(($=i.$$.fragment)&&$.i&&(E.delete($),$.i(y))),function(e,n,i,c){const{fragment:s,on_mount:l,on_destroy:a,after_update:d}=e.$$;s&&s.m(n,i),c||_((()=>{const n=l.map(t).filter(r);a?a.push(...n):o(n),e.$$.on_mount=[]})),d.forEach(_)}(i,c.target,c.anchor,c.customElement),N()}var $,y;b(f)}let B;var D,L,H,M,P,q,F;"function"==typeof HTMLElement&&(B=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(t).filter(r);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){o(this.$$.on_disconnect)}$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}),function(e){e[e.Failed=0]="Failed",e[e.NoBrowserSupport=1]="NoBrowserSupport",e[e.NoAudioConsent=2]="NoAudioConsent",e[e.__UnrecoverableErrors=3]="__UnrecoverableErrors",e[e.Disconnected=4]="Disconnected",e[e.Disconnecting=5]="Disconnecting",e[e.Connecting=6]="Connecting",e[e.Preinitialized=7]="Preinitialized",e[e.Initializing=8]="Initializing",e[e.Connected=9]="Connected",e[e.Stopping=10]="Stopping",e[e.Starting=11]="Starting",e[e.Recording=12]="Recording"}(D||(D={})),function(e){e.SpeechlyFirstConnect="SpeechlyFirstConnect"}(L||(L={})),function(e){e.speechlypoweron="speechlypoweron",e.holdstart="holdstart",e.holdend="holdend",e.speechstate="speechstate",e.speechsegment="speechsegment",e.speechhandled="speechhandled",e.showhint="showhint",e.transcriptdrawerhint="hint",e.speechlyintroready="speechlyintroready",e.speechlyintroclosed="speechlyintroclosed"}(H||(H={})),function(e){e.Mic="mic",e.MicActive="micactive",e.Error="error",e.Denied="denied"}(M||(M={})),function(e){e.Hold="hold",e.Click="click",e.Noninteractive="noninteractive"}(P||(P={})),function(e){e.None="none",e.Connecting="connecting",e.Busy="busy"}(q||(q={})),function(e){e.None="none",e.Whirl="whirl"}(F||(F={})),D.Disconnected,D.Disconnecting,D.Connecting,D.Preinitialized,D.Initializing,D.Connected,D.Starting,D.Recording,D.Stopping,D.Failed,D.NoBrowserSupport,D.NoAudioConsent;const{window:I}=R;function j(e){let t,n,o,r,i,d,h,f,m=e[1]===K&&O(),g=e[1]===D.NoAudioConsent&&U(),b=e[1]===D.NoBrowserSupport&&W(),w=e[1]===Q&&G();return{c(){t=a("errorDiv"),n=a("errorLeft"),n.textContent="×",o=u(),m&&m.c(),r=u(),g&&g.c(),i=u(),b&&b.c(),d=u(),w&&w.c()},m(l,a){s(l,t,a),c(t,n),c(t,o),m&&m.m(t,null),c(t,r),g&&g.m(t,null),c(t,i),b&&b.m(t,null),c(t,d),w&&w.m(t,null),h||(f=p(n,"click",e[3]),h=!0)},p(e,n){e[1]===K?m?m.p(e,n):(m=O(),m.c(),m.m(t,r)):m&&(m.d(1),m=null),e[1]===D.NoAudioConsent?g?g.p(e,n):(g=U(),g.c(),g.m(t,i)):g&&(g.d(1),g=null),e[1]===D.NoBrowserSupport?b||(b=W(),b.c(),b.m(t,d)):b&&(b.d(1),b=null),e[1]===Q?w?w.p(e,n):(w=G(),w.c(),w.m(t,null)):w&&(w.d(1),w=null)},d(e){e&&l(t),m&&m.d(),g&&g.d(),b&&b.d(),w&&w.d(),h=!1,f()}}}function O(t){let n,o,r,i,p,f,m,g,b,w;return{c(){n=a("errorRight"),o=a("h1"),o.textContent="Failed to connect Speechly",r=u(),i=a("p"),i.textContent="Please check that Speechly application id has been successfully deployed.",p=u(),f=a("p"),m=a("a"),m.textContent="Troubleshooting",g=d("\n                \n            "),b=a("a"),w=d("Reload"),h(m,"href","https://docs.speechly.com/faq/#error-invalid-app-id"),h(b,"href",window.location.href)},m(e,t){s(e,n,t),c(n,o),c(n,r),c(n,i),c(n,p),c(n,f),c(f,m),c(f,g),c(f,b),c(b,w)},p:e,d(e){e&&l(n)}}}function U(t){let n,o,r,i,p,f,m,g,b,w;return{c(){n=a("errorRight"),o=a("h1"),o.textContent="No Mic Permission",r=u(),i=a("p"),i.textContent="To use the voice interface, please allow your web browser access the\n            microphone and reload.",p=u(),f=a("p"),m=a("a"),m.textContent="Troubleshooting",g=d("\n                \n            "),b=a("a"),w=d("Reload"),h(m,"href","https://docs.speechly.com/faq/#error-no-audio-consent"),h(b,"href",window.location.href)},m(e,t){s(e,n,t),c(n,o),c(n,r),c(n,i),c(n,p),c(n,f),c(f,m),c(f,g),c(f,b),c(b,w)},p:e,d(e){e&&l(n)}}}function W(e){let t;return{c(){t=a("errorRight"),t.innerHTML='<h1>Unsupported Browser</h1> \n          <p>To use the voice interface, please visit this site using a supported\n            browser.</p> \n          <p><a href="https://docs.speechly.com/client-libraries/supported-browsers/#error-no-browser-support">Troubleshooting</a></p>'},m(e,n){s(e,t,n)},d(e){e&&l(t)}}}function G(t){let n,o,r,i,p,f,m,g,b,w;return{c(){n=a("errorRight"),o=a("h1"),o.textContent="HTTPS Required",r=u(),i=a("p"),i.textContent="To use the voice interface, please visit this site using the secure\n            https:// protocol.",p=u(),f=a("p"),m=a("a"),m.textContent="Troubleshooting",g=d("\n                \n            "),b=a("a"),w=d("Try with HTTPS"),h(m,"href","https://docs.speechly.com/faq/#error-https-required"),h(b,"href",window.location.href.replace(/^http(?!s)/,"https"))},m(e,t){s(e,n,t),c(n,o),c(n,r),c(n,i),c(n,p),c(n,f),c(f,m),c(f,g),c(f,b),c(b,w)},p:e,d(e){e&&l(n)}}}function J(t){let n,o,r,i,d,m=t[1]&&j(t);return{c(){n=a("link"),o=u(),r=a("main"),m&&m.c(),this.c=e,h(n,"href","https://fonts.googleapis.com/css2?family=Saira+Condensed:wght@700&display=swap"),h(n,"rel","stylesheet"),f(r,"bottom","bottom"===t[0])},m(e,l){c(document.head,n),s(e,o,l),s(e,r,l),m&&m.m(r,null),i||(d=p(I,"message",t[2]),i=!0)},p(e,[t]){e[1]?m?m.p(e,t):(m=j(e),m.c(),m.m(r,null)):m&&(m.d(1),m=null),1&t&&f(r,"bottom","bottom"===e[0])},i:e,o:e,d(e){l(n),e&&l(o),e&&l(r),m&&m.d(),i=!1,d()}}}const K="InvaldAppId",Q="HttpsRequired";function V(e,t,n){let{placement:o=null}=t;let r=null;const i=e=>{var t,o;switch(e){case D.Failed:n(1,r=K);break;case D.NoAudioConsent:case D.NoBrowserSupport:if("https:"!==(null===(t=null===window||void 0===window?void 0:window.location)||void 0===t?void 0:t.protocol)&&("localhost"!==(o=window.location.hostname)&&"[::1]"!==o&&null===o.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))){n(1,r=Q);break}n(1,r=e)}};return e.$$set=e=>{"placement"in e&&n(0,o=e.placement)},[o,r,e=>{if(e.data.type===H.holdstart)i(e.data.state)},()=>{n(1,r=null)}]}class X extends B{constructor(e){super(),this.shadowRoot.innerHTML="<style>main.bottom{position:fixed;bottom:0;left:0;right:0;min-height:10em;z-index:51;user-select:none;pointer-events:none}errorDiv{box-sizing:border-box;position:relative;width:100%;min-height:10em;background-color:white;user-select:text;pointer-events:all;color:black;display:flex;box-shadow:0 0 8px #00000040;flex-direction:row}errorLeft{box-sizing:border-box;width:2rem;background-color:red;padding:0.2rem 0.2rem;color:#ffffff;display:flex;flex-direction:column;align-items:center;justify-content:start;font-size:1.5rem;cursor:pointer}errorRight{background-color:white;padding:1rem 3rem 1rem 1rem;overflow:auto;flex-grow:1}h1{font-size:1.5rem;margin:0;padding:0 0 0.5rem 0;font-family:'Saira Condensed', sans-serif;text-transform:uppercase}p{margin:0;padding:0 0 0.5rem 0;color:#999}a{color:#000}</style>",z(this,{target:this.shadowRoot,props:m(this.attributes),customElement:!0},V,J,i,{placement:0},null),e&&(e.target&&s(e.target,this,e.anchor),e.props&&(this.$set(e.props),N()))}static get observedAttributes(){return["placement"]}get placement(){return this.$$.ctx[0]}set placement(e){this.$$set({placement:e}),N()}}customElements.get("error-panel")?console.warn("Skipping re-defining customElement error-panel"):customElements.define("error-panel",X)}));
//# sourceMappingURL=error-panel.js.map
