!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function i(){return Object.create(null)}function r(t){t.forEach(o)}function s(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e}function l(t){return 0===Object.keys(t).length}function h(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}const d="undefined"!=typeof window;let u=d?()=>window.performance.now():()=>Date.now(),f=d?t=>requestAnimationFrame(t):t;const g=new Set;function p(t){g.forEach((e=>{e.c(t)||(g.delete(e),e.f())})),0!==g.size&&f(p)}function m(t){let e;return 0===g.size&&f(p),{promise:new Promise((n=>{g.add(e={c:t,f:n})})),abort(){g.delete(e)}}}function $(t,e){t.appendChild(e)}function y(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function b(t,e){$(t.head||t,e)}function x(t,e,n){t.insertBefore(e,n||null)}function w(t){t.parentNode.removeChild(t)}function v(t){return document.createElement(t)}function k(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function z(t){return document.createTextNode(t)}function _(){return z(" ")}function T(){return z("")}function E(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function C(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function S(t,e,n){e in t?t[e]="boolean"==typeof t[e]&&""===n||n:C(t,e,n)}function P(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function R(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function D(t,e,n){t.classList[n?"add":"remove"](e)}function I(t){const e={};for(const n of t)e[n.name]=n.value;return e}const N=new Set;let F,A=0;function M(t,e,n,o,i,r,s,c=0){const a=16.666/o;let l="{\n";for(let t=0;t<=1;t+=a){const o=e+(n-e)*r(t);l+=100*t+`%{${s(o,1-o)}}\n`}const h=l+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(h)}_${c}`,u=y(t);N.add(u);const f=u.__svelte_stylesheet||(u.__svelte_stylesheet=function(t){const e=v("style");return b(y(t),e),e}(t).sheet),g=u.__svelte_rules||(u.__svelte_rules={});g[d]||(g[d]=!0,f.insertRule(`@keyframes ${d} ${h}`,f.cssRules.length));const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${d} ${o}ms linear ${i}ms 1 both`,A+=1,d}function B(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-o.length;i&&(t.style.animation=o.join(", "),A-=i,A||f((()=>{A||(N.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),N.clear())})))}function j(t){F=t}function O(){if(!F)throw new Error("Function called outside component initialization");return F}const L=[],H=[],U=[],V=[],W=Promise.resolve();let q=!1;function J(t){U.push(t)}let G=!1;const K=new Set;function Q(){if(!G){G=!0;do{for(let t=0;t<L.length;t+=1){const e=L[t];j(e),X(e.$$)}for(j(null),L.length=0;H.length;)H.pop()();for(let t=0;t<U.length;t+=1){const e=U[t];K.has(e)||(K.add(e),e())}U.length=0}while(L.length);for(;V.length;)V.pop()();q=!1,G=!1,K.clear()}}function X(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(J)}}let Y;function Z(t,e,n){t.dispatchEvent(function(t,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,!1,e),o}(`${e?"intro":"outro"}${n}`))}const tt=new Set;function et(t,e){t&&t.i&&(tt.delete(t),t.i(e))}const nt={duration:0};function ot(n,o,i){let r,c,a=o(n,i),l=!1,h=0;function d(){r&&B(n,r)}function f(){const{delay:o=0,duration:i=300,easing:s=e,tick:f=t,css:g}=a||nt;g&&(r=M(n,0,1,i,o,s,g,h++)),f(0,1);const p=u()+o,$=p+i;c&&c.abort(),l=!0,J((()=>Z(n,!0,"start"))),c=m((t=>{if(l){if(t>=$)return f(1,0),Z(n,!0,"end"),d(),l=!1;if(t>=p){const e=s((t-p)/i);f(e,1-e)}}return l}))}let g=!1;return{start(){g||(g=!0,B(n),s(a)?(a=a(),(Y||(Y=Promise.resolve(),Y.then((()=>{Y=null}))),Y).then(f)):f())},invalidate(){g=!1},end(){l&&(d(),l=!1)}}}const it="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function rt(t,e,n,i){const{fragment:c,on_mount:a,on_destroy:l,after_update:h}=t.$$;c&&c.m(e,n),i||J((()=>{const e=a.map(o).filter(s);l?l.push(...e):r(e),t.$$.on_mount=[]})),h.forEach(J)}function st(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ct(t,e){-1===t.$$.dirty[0]&&(L.push(t),q||(q=!0,W.then(Q)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function at(e,n,o,s,c,a,l,h=[-1]){const d=F;j(e);const u=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:c,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:i(),dirty:h,skip_bound:!1,root:n.target||d.$$.root};l&&l(u.root);let f=!1;if(u.ctx=o?o(e,n.props||{},((t,n,...o)=>{const i=o.length?o[0]:n;return u.ctx&&c(u.ctx[t],u.ctx[t]=i)&&(!u.skip_bound&&u.bound[t]&&u.bound[t](i),f&&ct(e,t)),n})):[],u.update(),f=!0,r(u.before_update),u.fragment=!!s&&s(u.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);u.fragment&&u.fragment.l(t),t.forEach(w)}else u.fragment&&u.fragment.c();n.intro&&et(e.$$.fragment),rt(e,n.target,n.anchor,n.customElement),Q()}j(d)}let lt;"function"==typeof HTMLElement&&(lt=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(o).filter(s);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){r(this.$$.on_disconnect)}$destroy(){st(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!l(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});var ht,dt,ut,ft,gt,pt,mt;function $t(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function yt(t){return t*t*t}function bt(t){const e=t-1;return e*e*e+1}!function(t){t[t.Failed=0]="Failed",t[t.NoBrowserSupport=1]="NoBrowserSupport",t[t.NoAudioConsent=2]="NoAudioConsent",t[t.__UnrecoverableErrors=3]="__UnrecoverableErrors",t[t.Disconnected=4]="Disconnected",t[t.Disconnecting=5]="Disconnecting",t[t.Connecting=6]="Connecting",t[t.Preinitialized=7]="Preinitialized",t[t.Initializing=8]="Initializing",t[t.Connected=9]="Connected",t[t.Stopping=10]="Stopping",t[t.Starting=11]="Starting",t[t.Recording=12]="Recording"}(ht||(ht={})),function(t){t.SpeechlyFirstConnect="SpeechlyFirstConnect"}(dt||(dt={})),function(t){t.speechlypoweron="speechlypoweron",t.holdstart="holdstart",t.holdend="holdend",t.speechstate="speechstate",t.speechsegment="speechsegment",t.speechhandled="speechhandled",t.showhint="showhint",t.transcriptdrawerhint="hint",t.speechlyintroready="speechlyintroready",t.speechlyintroclosed="speechlyintroclosed"}(ut||(ut={})),function(t){t.Mic="mic",t.MicActive="micactive",t.Error="error",t.Denied="denied"}(ft||(ft={})),function(t){t.Hold="hold",t.Click="click",t.Noninteractive="noninteractive"}(gt||(gt={})),function(t){t.None="none",t.Connecting="connecting",t.Busy="busy"}(pt||(pt={})),function(t){t.None="none",t.Whirl="whirl"}(mt||(mt={})),ht.Disconnected,ht.Disconnecting,ht.Connecting,ht.Preinitialized,ht.Initializing,ht.Connected,ht.Starting,ht.Recording,ht.Stopping,ht.Failed,ht.NoBrowserSupport,ht.NoAudioConsent;const xt=[];function wt(t){return"[object Date]"===Object.prototype.toString.call(t)}function vt(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>vt(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(wt(t)&&wt(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),o={};return n.forEach((n=>{o[n]=vt(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=o[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function kt(o,i={}){const r=function(e,n=t){let o;const i=new Set;function r(t){if(c(e,t)&&(e=t,o)){const t=!xt.length;for(const t of i)t[1](),xt.push(t,e);if(t){for(let t=0;t<xt.length;t+=2)xt[t][0](xt[t+1]);xt.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(s,c=t){const a=[s,c];return i.add(a),1===i.size&&(o=n(r)||t),s(e),()=>{i.delete(a),0===i.size&&(o(),o=null)}}}}(o);let s,a=o;function l(t,c){if(null==o)return r.set(o=t),Promise.resolve();a=t;let l=s,h=!1,{delay:d=0,duration:f=400,easing:g=e,interpolate:p=vt}=n(n({},i),c);if(0===f)return l&&(l.abort(),l=null),r.set(o=a),Promise.resolve();const $=u()+d;let y;return s=m((e=>{if(e<$)return!0;h||(y=p(o,t),"function"==typeof f&&(f=f(o,t)),h=!0),l&&(l.abort(),l=null);const n=e-$;return n>f?(r.set(o=t),!1):(r.set(o=y(g(n/f))),!0)})),s.promise}return{set:l,update:(t,e)=>l(t(a,o),e),subscribe:r.subscribe}}function zt(t){return function(e,n){if(!e.hasOwnProperty("ownerDocument")){Object.defineProperty(e,"ownerDocument",{get:function(){return e.parentElement}});let t=e;for(;t.parentElement;)t=t.parentElement;e.parentElement.head=t}return t(e,n)}}function _t(t,{delay:e=0,speed:n,duration:o,easing:i=$t}={}){let r=t.getTotalLength();const s=getComputedStyle(t);return"butt"!==s.strokeLinecap&&(r+=parseInt(s.strokeWidth)),void 0===o?o=void 0===n?800:r/n:"function"==typeof o&&(o=o(r)),{delay:e,duration:o,easing:i,css:(t,e)=>`stroke-dasharray: ${t*r} ${e*r}`}}const Tt=[0,1];function Et(t,e,n,o){if(e<n)return t[0];if(e>o)return t[t.length-1];let i=(o-n)/(t.length-1);if(i<=0)return t[0];let r=(e-n)/i,s=Math.floor(r),c=Math.ceil(r),a=r-s;return(1-a)*t[s]+a*t[c]}function Ct(t){!function(t,e,n){const o=y(t);if(!o.getElementById(e)){const t=v("style");t.id=e,t.textContent=n,b(o,t)}}(t,"svelte-1fz8oog","canvas.svelte-1fz8oog{display:block;width:1.35rem;height:1.5rem;margin:0;padding:0 0.8rem 0 0rem;flex-grow:0;flex-shrink:0;flex-basis:1.35rem}")}function St(e){let n;return{c(){n=v("canvas"),R(n,"color",e[0]),R(n,"display","block"),R(n,"width","1.35rem"),R(n,"height","1.5rem"),R(n,"margin","0"),R(n,"padding","0 0.8rem 0 0rem"),R(n,"flex-grow","0"),R(n,"flex-shrink","0"),R(n,"flex-basis","1.35rem"),C(n,"class","svelte-1fz8oog")},m(t,o){x(t,n,o),e[3](n)},p(t,[e]){1&e&&R(n,"color",t[0])},i:t,o:t,d(t){t&&w(n),e[3](null)}}}function Pt(t,e,n){let{color:o="#60e0ff"}=e;const i=(t,e)=>{s=Date.now()>c?t:Math.max(s,t),c=Date.now()+e};let r,s=0,c=0,a=[0,0];const l=(t,e,n,o,i,r)=>{o<2*r&&(r=o/2),i<2*r&&(r=i/2),t.beginPath(),t.moveTo(e+r,n),t.arcTo(e+o,n,e+o,n+i,r),t.arcTo(e+o,n+i,e,n+i,r),t.arcTo(e,n+i,e,n,r),t.arcTo(e,n,e+o,n,r),t.closePath()};var h;return h=()=>{let t;const e=2*(a.length-1)+1,o=3*e+1*(e-1),h=()=>{if(t=requestAnimationFrame(h),!r)return;const e=r.getContext("2d");if(!e)return;let i=(t=>{var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/e})(e),d=Number.parseInt(getComputedStyle(r).getPropertyValue("width").slice(0,-2)),u=Number.parseInt(getComputedStyle(r).getPropertyValue("height").slice(0,-2));n(1,r.width=d*i,r),n(1,r.height=u*i,r),Date.now()<c?a[0]=.15*s+.85*a[0]:a[0]=.0625+.75*a[0];let f=1;for(;f<a.length;)a[f]=.25*a[f-1]+.5*a[f]+.0625,f++;e.clearRect(0,0,r.width,r.height);const g=3/o*r.width*.5,p=4/o*r.width;for(e.fillStyle=r.style.color||"#000000",f=0;f<a.length;f++){const t=a[f]*r.height;t*r.height>2*g?l(e,.5*r.width-g+f*p,.5*(r.height-t),2*g,t,g):(e.beginPath(),e.arc(.5*r.width+f*p,.5*r.height,t*r.height*.5,0,2*Math.PI)),e.fill(),f>0&&(t*r.height>2*g?l(e,.5*r.width-g-f*p,.5*(r.height-t),2*g,t,g):(e.beginPath(),e.arc(.5*r.width-f*p,.5*r.height,t*r.height*.5,0,2*Math.PI)),e.fill())}};return h(),i(1,500),()=>{cancelAnimationFrame(t)}},O().$$.on_mount.push(h),t.$$set=t=>{"color"in t&&n(0,o=t.color)},[o,r,i,function(t){H[t?"unshift":"push"]((()=>{r=t,n(1,r)}))}]}class Rt extends class{$destroy(){st(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!l(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),at(this,t,Pt,St,c,{color:0,updateVU:2},Ct)}get updateVU(){return this.$$.ctx[2]}}const{window:Dt}=it;function It(t,e,n){const o=t.slice();return o[42]=e[n],o[44]=n,o}function Nt(t){let e;return{c(){e=v("div"),C(e,"class","TransscriptItemBgDiv")},m(t,n){x(t,e,n)},d(t){t&&w(e)}}}function Ft(e){let n,o;return{c(){n=v("div"),n.textContent="Listening...",C(n,"class","listening")},m(t,e){x(t,n,e)},i(t){o||J((()=>{o=ot(n,e[21],{duration:400}),o.start()}))},o:t,d(t){t&&w(n)}}}function At(e){let n,o;return{c(){n=v("div"),C(n,"class","TransscriptItemBgDiv")},m(t,e){x(t,n,e)},p(t,n){e=t},i(t){o||J((()=>{o=ot(n,e[21],{duration:e[14]}),o.start()}))},o:t,d(t){t&&w(n)}}}function Mt(t){let e,n;return{c(){e=v("span"),C(e,"style",n=t[44]<t[11].length-1?"width:0.25em;":t[13]?"width:1.2em;":"")},m(t,n){x(t,e,n)},p(t,o){10240&o[0]&&n!==(n=t[44]<t[11].length-1?"width:0.25em;":t[13]?"width:1.2em;":"")&&C(e,"style",n)},d(t){t&&w(e)}}}function Bt(e){let n,o,i,r,s,c,a,l=e[42].word+"",h=e[16]&&At(e),d=e[44]<e[11].length&&Mt(e);return{c(){n=v("div"),h&&h.c(),o=_(),i=v("div"),r=z(l),s=_(),d&&d.c(),C(i,"class","TransscriptItemContent"),C(n,"class",a="TranscriptItem "+e[23](e[42])),D(n,"Entity",null!==e[42].entityType),D(n,"Final",e[42].isFinal)},m(t,e){x(t,n,e),h&&h.m(n,null),$(n,o),$(n,i),$(i,r),$(i,s),d&&d.m(i,null)},p(t,s){(e=t)[16]?h?65536&s[0]&&et(h,1):(h=At(e),h.c(),et(h,1),h.m(n,o)):h&&(h.d(1),h=null),2048&s[0]&&l!==(l=e[42].word+"")&&P(r,l),e[44]<e[11].length?d?d.p(e,s):(d=Mt(e),d.c(),d.m(i,null)):d&&(d.d(1),d=null),2048&s[0]&&a!==(a="TranscriptItem "+e[23](e[42]))&&C(n,"class",a),2048&s[0]&&D(n,"Entity",null!==e[42].entityType),2048&s[0]&&D(n,"Final",e[42].isFinal)},i(t){et(h),c||J((()=>{c=ot(i,e[21],{duration:e[14]}),c.start()}))},o:t,d(t){t&&w(n),h&&h.d(),d&&d.d()}}}function jt(e){let n,o,i,r,s,c,a,l;return{c(){n=v("div"),o=v("div"),i=_(),r=v("div"),s=k("svg"),c=k("path"),C(o,"class","TransscriptItemBgDiv"),R(o,"background-color",e[5]),C(c,"stroke","currentColor"),C(c,"stroke-width","3"),C(c,"d","M7.191 11.444l4.059 6.107 7.376-12.949"),C(c,"fill","none"),C(c,"fill-rule","evenodd"),R(s,"width","2rem"),R(s,"height","2rem"),R(s,"position","absolute"),R(s,"transform","translate(-0.6rem, -0.5rem)"),R(s,"stroke","#eee"),C(s,"viewBox","0 0 24 24"),C(s,"xmlns","http://www.w3.org/2000/svg"),R(r,"width","1.0rem"),R(r,"height","1rem"),R(r,"position","relative"),C(n,"class","TranscriptItem")},m(t,e){x(t,n,e),$(n,o),$(n,i),$(n,r),$(r,s),$(s,c)},p(t,e){32&e[0]&&R(o,"background-color",t[5])},i(t){a||J((()=>{a=ot(c,e[20],{duration:500}),a.start()})),l||J((()=>{l=ot(n,e[21],{duration:200,maxWidth:3}),l.start()}))},o:t,d(t){t&&w(n)}}}function Ot(t){let e;return{c(){e=v("link"),C(e,"href","https://fonts.googleapis.com/css2?family=Saira+Condensed:wght@700&display=swap"),C(e,"rel","stylesheet")},m(t,n){x(t,e,n)},d(t){t&&w(e)}}}function Lt(t){let e;return{c(){e=v("link"),C(e,"href",t[10]),C(e,"rel","stylesheet")},m(t,n){x(t,e,n)},p(t,n){1024&n[0]&&C(e,"href",t[10])},d(t){t&&w(e)}}}function Ht(e){let n,o,i,r,s,c,a,l,h,d,u,f,g,p,m,y=e[16]&&Nt(),b={color:e[5]};s=new Rt({props:b}),e[34](s);let k=e[17]&&Ft(e),z=e[11],S=[];for(let t=0;t<z.length;t+=1)S[t]=Bt(It(e,z,t));let P=e[13]&&jt(e),I=e[15]&&Ot(),N=void 0!==e[10]&&Lt(e);return{c(){var g;n=v("main"),o=v("div"),y&&y.c(),i=_(),r=v("div"),(g=s.$$.fragment)&&g.c(),c=_(),k&&k.c(),a=_();for(let t=0;t<S.length;t+=1)S[t].c();l=_(),P&&P.c(),h=_(),I&&I.c(),d=T(),u=_(),N&&N.c(),f=T(),this.c=t,C(r,"class","TransscriptItemContent"),C(o,"class","TranscriptItem"),C(n,"class","BigTranscript"),R(n,"--voffset",e[1]),R(n,"--hoffset",e[2]),R(n,"--fontsize",e[3]),R(n,"--color",e[4]),R(n,"--highlight-color",e[5]),R(n,"--text-bg-color",e[6]),R(n,"--gradient-stop1",e[7]),R(n,"--gradient-stop2",e[8]),R(n,"--marginbottom",e[9]),R(n,"--transition",e[18].transition),R(n,"opacity",e[18].transition),R(n,"max-height",10*Et(Tt,e[18].transition,0,.6)+"rem"),R(n,"visibility",0!==e[18].transition?"visible":"hidden"),D(n,"placementTop","top"===e[0]),D(n,"defaultTypography",e[15])},m(t,b){x(t,n,b),$(n,o),y&&y.m(o,null),$(o,i),$(o,r),rt(s,r,null),$(r,c),k&&k.m(r,null),$(n,a);for(let t=0;t<S.length;t+=1)S[t].m(n,null);$(n,l),P&&P.m(n,null),x(t,h,b),I&&I.m(document.head,null),$(document.head,d),x(t,u,b),N&&N.m(t,b),x(t,f,b),g=!0,p||(m=E(Dt,"message",e[22]),p=!0)},p(t,e){t[16]?y||(y=Nt(),y.c(),y.m(o,i)):y&&(y.d(1),y=null);const c={};if(32&e[0]&&(c.color=t[5]),s.$set(c),t[17]?k?131072&e[0]&&et(k,1):(k=Ft(t),k.c(),et(k,1),k.m(r,null)):k&&(k.d(1),k=null),8464384&e[0]){let o;for(z=t[11],o=0;o<z.length;o+=1){const i=It(t,z,o);S[o]?(S[o].p(i,e),et(S[o],1)):(S[o]=Bt(i),S[o].c(),et(S[o],1),S[o].m(n,l))}for(;o<S.length;o+=1)S[o].d(1);S.length=z.length}t[13]?P?(P.p(t,e),8192&e[0]&&et(P,1)):(P=jt(t),P.c(),et(P,1),P.m(n,null)):P&&(P.d(1),P=null),(!g||2&e[0])&&R(n,"--voffset",t[1]),(!g||4&e[0])&&R(n,"--hoffset",t[2]),(!g||8&e[0])&&R(n,"--fontsize",t[3]),(!g||16&e[0])&&R(n,"--color",t[4]),(!g||32&e[0])&&R(n,"--highlight-color",t[5]),(!g||64&e[0])&&R(n,"--text-bg-color",t[6]),(!g||128&e[0])&&R(n,"--gradient-stop1",t[7]),(!g||256&e[0])&&R(n,"--gradient-stop2",t[8]),(!g||512&e[0])&&R(n,"--marginbottom",t[9]),(!g||262144&e[0])&&R(n,"--transition",t[18].transition),(!g||262144&e[0])&&R(n,"opacity",t[18].transition),(!g||262144&e[0])&&R(n,"max-height",10*Et(Tt,t[18].transition,0,.6)+"rem"),(!g||262144&e[0])&&R(n,"visibility",0!==t[18].transition?"visible":"hidden"),1&e[0]&&D(n,"placementTop","top"===t[0]),32768&e[0]&&D(n,"defaultTypography",t[15]),t[15]?I||(I=Ot(),I.c(),I.m(d.parentNode,d)):I&&(I.d(1),I=null),void 0!==t[10]?N?N.p(t,e):(N=Lt(t),N.c(),N.m(f.parentNode,f)):N&&(N.d(1),N=null)},i(t){if(!g){et(s.$$.fragment,t),et(k);for(let t=0;t<z.length;t+=1)et(S[t]);et(P),g=!0}},o(t){!function(t,e,n,o){if(t&&t.o){if(tt.has(t))return;tt.add(t),(void 0).c.push((()=>{tt.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}(s.$$.fragment,t),g=!1},d(t){t&&w(n),y&&y.d(),e[34](null),st(s),k&&k.d(),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(S,t),P&&P.d(),t&&w(h),I&&I.d(t),w(d),t&&w(u),N&&N.d(t),t&&w(f),p=!1,m()}}}function Ut(t,e,n){let o,i,r,s,c,a,l,d,{placement:u}=e,{voffset:f="3rem"}=e,{hoffset:g="2rem"}=e,{fontsize:p="1.5rem"}=e,{color:m="#ffffff"}=e,{highlightcolor:$="#15e8b5"}=e,{backgroundcolor:y="#202020"}=e,{gradientstop1:b="#ffffff88"}=e,{gradientstop2:x="#ffffffcc"}=e,{marginbottom:w="0rem"}=e,{formattext:v}=e,{demomode:k}=e,{customcssurl:z}=e,{customtypography:_}=e,T=[],E=null,C=null,S=ht.Disconnected,P=!1,R=!1,D=!1,I=kt({transition:0},{duration:200});h(t,I,(t=>n(18,l=t)));const N=O(),F=zt(_t),A=zt(((t,{delay:e=0,duration:n=350,maxWidth:o=10})=>({delay:e,duration:n,css:t=>`\n        max-width: ${Et(Tt,t,0,1)*o}rem;\n      `}))),M=t=>{n(13,D=D||t)},B=t=>{n(30,S=t),S===ht.Recording&&(n(13,D=!1),n(11,T=[]),C=null)},j=t=>{if(void 0===t)return;d&&(s||S===ht.Recording)&&d.updateVU(.5*Math.random()+.5,75*Math.random()+75),t.isFinal?L(T.length>0?s?3500:2e3:0):T.length>0&&(P||n(31,P=!0),L(2e3));const e=`${t.contextId}/${t.id}`;null!==C?C!==e&&(n(13,D=!1),C=e):C=e,n(11,T=[]),t.words.forEach((t=>{n(11,T[t.index]={word:t.value,serialNumber:t.index,entityType:null,isFinal:t.isFinal,hide:!1},T)})),r?t.entities.forEach((t=>{n(11,T[t.startPosition].word=t.value,T),n(11,T[t.startPosition].entityType=t.type,T),n(11,T[t.startPosition].isFinal=t.isFinal,T),n(11,T[t.startPosition].hide=!1,T);for(let e=t.startPosition+1;e<t.endPosition;e++)T[e]&&n(11,T[e].hide=!0,T)})):t.entities.forEach((t=>{for(let e=t.startPosition;e<t.endPosition;e++)T[e]&&(n(11,T[e].entityType=t.type,T),n(11,T[e].isFinal=t.isFinal,T))})),n(11,T=T.filter((t=>!t.hide)))},L=(t=0)=>{U(),E=window.setTimeout((()=>{E=null,P&&n(31,P=!1)}),t)},U=()=>{null!==E&&(window.clearTimeout(E),E=null)};return t.$$set=t=>{"placement"in t&&n(0,u=t.placement),"voffset"in t&&n(1,f=t.voffset),"hoffset"in t&&n(2,g=t.hoffset),"fontsize"in t&&n(3,p=t.fontsize),"color"in t&&n(4,m=t.color),"highlightcolor"in t&&n(5,$=t.highlightcolor),"backgroundcolor"in t&&n(6,y=t.backgroundcolor),"gradientstop1"in t&&n(7,b=t.gradientstop1),"gradientstop2"in t&&n(8,x=t.gradientstop2),"marginbottom"in t&&n(9,w=t.marginbottom),"formattext"in t&&n(24,v=t.formattext),"demomode"in t&&n(25,k=t.demomode),"customcssurl"in t&&n(10,z=t.customcssurl),"customtypography"in t&&n(26,_=t.customtypography)},t.$$.update=()=>{if(2048&t.$$.dirty[0]&&n(17,o=0===T.length),64&t.$$.dirty[0]&&n(16,i="none"!==y),16777216&t.$$.dirty[0]&&(r=void 0===v||"false"!==v),33554432&t.$$.dirty[0]&&n(33,s=void 0!==k&&"false"!==k),67108864&t.$$.dirty[0]&&n(15,c=void 0===_||"false"===_),4&t.$$.dirty[1]&&n(14,a=s?800:350),1073741824&t.$$.dirty[0]|3&t.$$.dirty[1]){const t=S===ht.Recording||P;t!==R&&(e="visibilitychanged",l=t,N.dispatchEvent(new CustomEvent(e,{detail:l,composed:!0}))),n(32,R=t),I.set({transition:R?1:0})}var e,l;4&t.$$.dirty[1]&&(s||L(0))},[u,f,g,p,m,$,y,b,x,w,z,T,d,D,a,c,i,o,l,I,F,A,t=>{switch(t.data.type){case ut.speechsegment:j(t.data.segment);break;case ut.speechhandled:M(t.data.success);break;case ut.speechstate:B(t.data.state)}},t=>t.entityType||"",v,k,_,M,B,j,S,P,R,s,function(t){H[t?"unshift":"push"]((()=>{d=t,n(12,d)}))}]}class Vt extends lt{constructor(t){super(),this.shadowRoot.innerHTML="<style>main{position:relative;user-select:none;display:flex;flex-direction:row;justify-content:start;flex-wrap:wrap;margin-bottom:calc(var(--marginbottom) * var(--transition));height:fit-content}.defaultTypography{font-family:'Saira Condensed', sans-serif;text-transform:uppercase;color:var(--color);font-size:var(--fontsize);line-height:135%}.TranscriptItem{position:relative;display:flex;flex-direction:row;align-items:center}.Entity{color:var(--highlight-color)}.TransscriptItemContent{z-index:1;display:flex;flex-wrap:nowrap;flex-direction:row;align-items:center;overflow:hidden;white-space:nowrap}.TransscriptItemBgDiv{position:absolute;box-sizing:content-box;width:100%;height:100%;top:-0.2rem;left:-0.8rem;margin:0;padding:0.2rem 0.8rem;background-color:var(--text-bg-color);z-index:-1}.placementTop{position:fixed;top:0;left:0;right:0;bottom:0;margin:var(--voffset) var(--hoffset) 0 var(--hoffset);z-index:50;pointer-events:none}.listening{animation:flow 1s linear infinite;background:linear-gradient(-60deg, var(--gradient-stop1), var(--gradient-stop2), var(--gradient-stop1), var(--gradient-stop2), var(--gradient-stop1));background-size:200%;-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;-webkit-box-decoration-break:clone}@keyframes flow{0%{background-position:100% 50%}100%{background-position:0% 50%}}</style>",at(this,{target:this.shadowRoot,props:I(this.attributes),customElement:!0},Ut,Ht,a,{placement:0,voffset:1,hoffset:2,fontsize:3,color:4,highlightcolor:5,backgroundcolor:6,gradientstop1:7,gradientstop2:8,marginbottom:9,formattext:24,demomode:25,customcssurl:10,customtypography:26,speechhandled:27,speechstate:28,speechsegment:29},null,[-1,-1]),t&&(t.target&&x(t.target,this,t.anchor),t.props&&(this.$set(t.props),Q()))}static get observedAttributes(){return["placement","voffset","hoffset","fontsize","color","highlightcolor","backgroundcolor","gradientstop1","gradientstop2","marginbottom","formattext","demomode","customcssurl","customtypography","speechhandled","speechstate","speechsegment"]}get placement(){return this.$$.ctx[0]}set placement(t){this.$$set({placement:t}),Q()}get voffset(){return this.$$.ctx[1]}set voffset(t){this.$$set({voffset:t}),Q()}get hoffset(){return this.$$.ctx[2]}set hoffset(t){this.$$set({hoffset:t}),Q()}get fontsize(){return this.$$.ctx[3]}set fontsize(t){this.$$set({fontsize:t}),Q()}get color(){return this.$$.ctx[4]}set color(t){this.$$set({color:t}),Q()}get highlightcolor(){return this.$$.ctx[5]}set highlightcolor(t){this.$$set({highlightcolor:t}),Q()}get backgroundcolor(){return this.$$.ctx[6]}set backgroundcolor(t){this.$$set({backgroundcolor:t}),Q()}get gradientstop1(){return this.$$.ctx[7]}set gradientstop1(t){this.$$set({gradientstop1:t}),Q()}get gradientstop2(){return this.$$.ctx[8]}set gradientstop2(t){this.$$set({gradientstop2:t}),Q()}get marginbottom(){return this.$$.ctx[9]}set marginbottom(t){this.$$set({marginbottom:t}),Q()}get formattext(){return this.$$.ctx[24]}set formattext(t){this.$$set({formattext:t}),Q()}get demomode(){return this.$$.ctx[25]}set demomode(t){this.$$set({demomode:t}),Q()}get customcssurl(){return this.$$.ctx[10]}set customcssurl(t){this.$$set({customcssurl:t}),Q()}get customtypography(){return this.$$.ctx[26]}set customtypography(t){this.$$set({customtypography:t}),Q()}get speechhandled(){return this.$$.ctx[27]}get speechstate(){return this.$$.ctx[28]}get speechsegment(){return this.$$.ctx[29]}}function Wt(t){let e;return{c(){e=v("link"),C(e,"href",t[11]),C(e,"rel","stylesheet")},m(t,n){x(t,e,n)},p(t,n){2048&n[0]&&C(e,"href",t[11])},d(t){t&&w(e)}}}function qt(e){let n,o,i,s,c,a,l,h,d,u,f=void 0!==e[11]&&Wt(e);return{c(){f&&f.c(),n=_(),o=v("main"),i=v("div"),s=v("div"),c=v("big-transcript"),a=_(),l=v("div"),h=z(e[13]),this.c=t,S(c,"customtypography",e[12]),S(c,"customcssurl",e[11]),S(c,"formattext",e[9]),S(c,"fontsize",e[1]),S(c,"color",e[3]),S(c,"backgroundcolor","none"),S(c,"highlightcolor",e[5]),S(c,"gradientstop1",e[7]),S(c,"gradientstop2",e[8]),S(c,"demomode",e[10]),C(l,"class","hint"),R(l,"opacity",e[18].opacity),D(l,"defaultTypography",e[15]),C(s,"class","pad"),C(i,"class","drawer"),R(i,"background-color",e[6]),R(i,"opacity",e[16].opacity),R(i,"transform","translate(0px, "+e[17].y+"rem)"),C(o,"class","placementTop"),R(o,"--height",e[0]),R(o,"--smalltextcolor",e[4]),R(o,"--hintfontsize",e[2])},m(t,r){f&&f.m(t,r),x(t,n,r),x(t,o,r),$(o,i),$(i,s),$(s,c),e[29](c),$(s,a),$(s,l),$(l,h),d||(u=[E(window,"message",e[23]),E(c,"visibilitychanged",e[22])],d=!0)},p(t,e){void 0!==t[11]?f?f.p(t,e):(f=Wt(t),f.c(),f.m(n.parentNode,n)):f&&(f.d(1),f=null),4096&e[0]&&S(c,"customtypography",t[12]),2048&e[0]&&S(c,"customcssurl",t[11]),512&e[0]&&S(c,"formattext",t[9]),2&e[0]&&S(c,"fontsize",t[1]),8&e[0]&&S(c,"color",t[3]),32&e[0]&&S(c,"highlightcolor",t[5]),128&e[0]&&S(c,"gradientstop1",t[7]),256&e[0]&&S(c,"gradientstop2",t[8]),1024&e[0]&&S(c,"demomode",t[10]),8192&e[0]&&P(h,t[13]),262144&e[0]&&R(l,"opacity",t[18].opacity),32768&e[0]&&D(l,"defaultTypography",t[15]),64&e[0]&&R(i,"background-color",t[6]),65536&e[0]&&R(i,"opacity",t[16].opacity),131072&e[0]&&R(i,"transform","translate(0px, "+t[17].y+"rem)"),1&e[0]&&R(o,"--height",t[0]),16&e[0]&&R(o,"--smalltextcolor",t[4]),4&e[0]&&R(o,"--hintfontsize",t[2])},i:t,o:t,d(t){f&&f.d(t),t&&w(n),t&&w(o),e[29](null),d=!1,r(u)}}}function Jt(t,n,o){let i,r,s,c,a,{height:l="8rem"}=n,{hint:d=""}=n,{fontsize:u="1.5rem"}=n,{hintfontsize:f="0.9rem"}=n,{color:g="#ffffff"}=n,{smalltextcolor:p="#ffffff70"}=n,{highlightcolor:m="#15e8b5"}=n,{backgroundcolor:$="#202020"}=n,{gradientstop1:y="#ffffff88"}=n,{gradientstop2:b="#ffffffcc"}=n,{formattext:x}=n,{demomode:w}=n,{customcssurl:v}=n,{customtypography:k}=n,z=[],_=0,T="";const E=(t,e=!0)=>{R.set({opacity:0}),a&&e&&a.speechsegment(t),t.isFinal&&(_++,_<z.length?o(13,T=z[_]):o(13,T=z[Math.floor(Math.random()*z.length)]))},C=t=>{_=0,o(24,d=t),z=[];try{z=JSON.parse(d),("string"==typeof z||z instanceof String)&&(z=[z])}catch(t){z[0]=d||""}o(13,T=z[_])};let S=kt({y:-1},{duration:200});h(t,S,(t=>o(17,s=t)));let P=kt({opacity:0},{duration:200,easing:e});h(t,P,(t=>o(16,r=t)));let R=kt({opacity:0},{duration:200,delay:200,easing:e});h(t,R,(t=>o(18,c=t)));return t.$$set=t=>{"height"in t&&o(0,l=t.height),"hint"in t&&o(24,d=t.hint),"fontsize"in t&&o(1,u=t.fontsize),"hintfontsize"in t&&o(2,f=t.hintfontsize),"color"in t&&o(3,g=t.color),"smalltextcolor"in t&&o(4,p=t.smalltextcolor),"highlightcolor"in t&&o(5,m=t.highlightcolor),"backgroundcolor"in t&&o(6,$=t.backgroundcolor),"gradientstop1"in t&&o(7,y=t.gradientstop1),"gradientstop2"in t&&o(8,b=t.gradientstop2),"formattext"in t&&o(9,x=t.formattext),"demomode"in t&&o(10,w=t.demomode),"customcssurl"in t&&o(11,v=t.customcssurl),"customtypography"in t&&o(12,k=t.customtypography)},t.$$.update=()=>{16777216&t.$$.dirty[0]&&C(d),4096&t.$$.dirty[0]&&o(15,i=void 0===k||"false"===k)},[l,u,f,g,p,m,$,y,b,x,w,v,k,T,a,i,r,s,c,S,P,R,t=>{!1===t.detail?(S.set({y:-1},{easing:yt}),P.set({opacity:0}),R.set({opacity:0})):(S.set({y:0},{easing:bt}),P.set({opacity:1}),R.set({opacity:1}))},t=>{switch(t.data.type){case ut.speechsegment:E(t.data.segment,!1);break;case ut.transcriptdrawerhint:C(t.data.hint)}},d,t=>{a&&a.speechhandled(t)},t=>{a&&a.speechstate(t)},E,C,function(t){H[t?"unshift":"push"]((()=>{a=t,o(14,a)}))}]}customElements.get("big-transcript")?console.warn("Skipping re-defining customElement big-transcript"):customElements.define("big-transcript",Vt);class Gt extends lt{constructor(t){super(),this.shadowRoot.innerHTML="<style>.placementTop{position:fixed;top:0;left:0;right:0;bottom:0;z-index:60;pointer-events:none}.drawer{width:100%;min-height:var(--height);display:flex;flex-direction:column;justify-content:flex-end;box-shadow:0 0 0.35rem #0004}.pad{position:relative;padding:2rem 2rem 0.65rem 1.5rem}.hint{margin-top:0.15rem}.defaultTypography{font-family:'Saira Condensed', sans-serif;text-transform:uppercase;color:var(--smalltextcolor);font-size:var(--hintfontsize);line-height:135%}</style>",at(this,{target:this.shadowRoot,props:I(this.attributes),customElement:!0},Jt,qt,a,{height:0,hint:24,fontsize:1,hintfontsize:2,color:3,smalltextcolor:4,highlightcolor:5,backgroundcolor:6,gradientstop1:7,gradientstop2:8,formattext:9,demomode:10,customcssurl:11,customtypography:12,speechhandled:25,speechstate:26,speechsegment:27,sethint:28},null,[-1,-1]),t&&(t.target&&x(t.target,this,t.anchor),t.props&&(this.$set(t.props),Q()))}static get observedAttributes(){return["height","hint","fontsize","hintfontsize","color","smalltextcolor","highlightcolor","backgroundcolor","gradientstop1","gradientstop2","formattext","demomode","customcssurl","customtypography","speechhandled","speechstate","speechsegment","sethint"]}get height(){return this.$$.ctx[0]}set height(t){this.$$set({height:t}),Q()}get hint(){return this.$$.ctx[24]}set hint(t){this.$$set({hint:t}),Q()}get fontsize(){return this.$$.ctx[1]}set fontsize(t){this.$$set({fontsize:t}),Q()}get hintfontsize(){return this.$$.ctx[2]}set hintfontsize(t){this.$$set({hintfontsize:t}),Q()}get color(){return this.$$.ctx[3]}set color(t){this.$$set({color:t}),Q()}get smalltextcolor(){return this.$$.ctx[4]}set smalltextcolor(t){this.$$set({smalltextcolor:t}),Q()}get highlightcolor(){return this.$$.ctx[5]}set highlightcolor(t){this.$$set({highlightcolor:t}),Q()}get backgroundcolor(){return this.$$.ctx[6]}set backgroundcolor(t){this.$$set({backgroundcolor:t}),Q()}get gradientstop1(){return this.$$.ctx[7]}set gradientstop1(t){this.$$set({gradientstop1:t}),Q()}get gradientstop2(){return this.$$.ctx[8]}set gradientstop2(t){this.$$set({gradientstop2:t}),Q()}get formattext(){return this.$$.ctx[9]}set formattext(t){this.$$set({formattext:t}),Q()}get demomode(){return this.$$.ctx[10]}set demomode(t){this.$$set({demomode:t}),Q()}get customcssurl(){return this.$$.ctx[11]}set customcssurl(t){this.$$set({customcssurl:t}),Q()}get customtypography(){return this.$$.ctx[12]}set customtypography(t){this.$$set({customtypography:t}),Q()}get speechhandled(){return this.$$.ctx[25]}get speechstate(){return this.$$.ctx[26]}get speechsegment(){return this.$$.ctx[27]}get sethint(){return this.$$.ctx[28]}}customElements.get("transcript-drawer")?console.warn("Skipping re-defining customElement transcript-drawer"):customElements.define("transcript-drawer",Gt)}));
//# sourceMappingURL=transcript-drawer.js.map
