!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function o(){return Object.create(null)}function i(e){e.forEach(n)}function r(e){return"function"==typeof e}let s;function c(e,t){return s||(s=document.createElement("a")),s.href=t,e===s.href}function a(e,t){return e!=e?t==t:e!==t}const l="undefined"!=typeof window;let d=l?()=>window.performance.now():()=>Date.now(),u=l?e=>requestAnimationFrame(e):e;const f=new Set;function h(e){f.forEach((t=>{t.c(e)||(f.delete(t),t.f())})),0!==f.size&&u(h)}function p(e,t){e.appendChild(t)}function m(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function g(e){const t=v("style");return function(e,t){p(e.head||e,t)}(m(e),t),t}function b(e,t,n){e.insertBefore(t,n||null)}function $(e){e.parentNode.removeChild(e)}function v(e){return document.createElement(e)}function y(e){return document.createTextNode(e)}function w(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function _(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function x(e,t,n,o){e.style.setProperty(t,n,o?"important":"")}function z(e){const t={};for(const n of e)t[n.name]=n.value;return t}const k=new Set;let E,C=0;function S(e,t,n,o,i,r,s,c=0){const a=16.666/o;let l="{\n";for(let e=0;e<=1;e+=a){const o=t+(n-t)*r(e);l+=100*e+`%{${s(o,1-o)}}\n`}const d=l+`100% {${s(n,1-n)}}\n}`,u=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${c}`,f=m(e);k.add(f);const h=f.__svelte_stylesheet||(f.__svelte_stylesheet=g(e).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[u]||(p[u]=!0,h.insertRule(`@keyframes ${u} ${d}`,h.cssRules.length));const b=e.style.animation||"";return e.style.animation=`${b?`${b}, `:""}${u} ${o}ms linear ${i}ms 1 both`,C+=1,u}function N(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-o.length;i&&(e.style.animation=o.join(", "),C-=i,C||u((()=>{C||(k.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),k.clear())})))}function D(e){E=e}function A(){if(!E)throw new Error("Function called outside component initialization");return E}const R=[],P=[],M=[],F=[],O=Promise.resolve();let T=!1;function B(e){M.push(e)}let L=!1;const j=new Set;function H(){if(!L){L=!0;do{for(let e=0;e<R.length;e+=1){const t=R[e];D(t),I(t.$$)}for(D(null),R.length=0;P.length;)P.pop()();for(let e=0;e<M.length;e+=1){const t=M[e];j.has(t)||(j.add(t),t())}M.length=0}while(R.length);for(;F.length;)F.pop()();T=!1,L=!1,j.clear()}}function I(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(B)}}let q;function U(e,t,n){e.dispatchEvent(function(e,t,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,!1,t),o}(`${t?"intro":"outro"}${n}`))}const W=new Set;let Y;function G(e,t){e&&e.i&&(W.delete(e),e.i(t))}function J(e,t,n,o){if(e&&e.o){if(W.has(e))return;W.add(e),Y.c.push((()=>{W.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}const K={duration:0};function Q(n,o,s,c){let a=o(n,s),l=c?0:1,p=null,m=null,g=null;function b(){g&&N(n,g)}function $(e,t){const n=e.b-l;return t*=Math.abs(n),{a:l,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function v(o){const{delay:r=0,duration:s=300,easing:c=t,tick:v=e,css:y}=a||K,w={start:d()+r,b:o};o||(w.group=Y,Y.r+=1),p||m?m=w:(y&&(b(),g=S(n,l,o,s,r,c,y)),o&&v(0,1),p=$(w,s),B((()=>U(n,o,"start"))),function(e){let t;0===f.size&&u(h),new Promise((n=>{f.add(t={c:e,f:n})}))}((e=>{if(m&&e>m.start&&(p=$(m,s),m=null,U(n,p.b,"start"),y&&(b(),g=S(n,l,p.b,p.duration,0,c,a.css))),p)if(e>=p.end)v(l=p.b,1-l),U(n,p.b,"end"),m||(p.b?b():--p.group.r||i(p.group.c)),p=null;else if(e>=p.start){const t=e-p.start;l=p.a+p.d*c(t/p.duration),v(l,1-l)}return!(!p&&!m)})))}return{run(e){r(a)?(q||(q=Promise.resolve(),q.then((()=>{q=null}))),q).then((()=>{a=a(),v(e)})):v(e)},end(){b(),p=m=null}}}const V="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function X(e,t){-1===e.$$.dirty[0]&&(R.push(e),T||(T=!0,O.then(H)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Z(t,s,c,a,l,d,u,f=[-1]){const h=E;D(t);const p=t.$$={fragment:null,ctx:null,props:d,update:e,not_equal:l,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(h?h.$$.context:[])),callbacks:o(),dirty:f,skip_bound:!1,root:s.target||h.$$.root};u&&u(p.root);let m=!1;if(p.ctx=c?c(t,s.props||{},((e,n,...o)=>{const i=o.length?o[0]:n;return p.ctx&&l(p.ctx[e],p.ctx[e]=i)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](i),m&&X(t,e)),n})):[],p.update(),m=!0,i(p.before_update),p.fragment=!!a&&a(p.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);p.fragment&&p.fragment.l(e),e.forEach($)}else p.fragment&&p.fragment.c();s.intro&&G(t.$$.fragment),function(e,t,o,s){const{fragment:c,on_mount:a,on_destroy:l,after_update:d}=e.$$;c&&c.m(t,o),s||B((()=>{const t=a.map(n).filter(r);l?l.push(...t):i(t),e.$$.on_mount=[]})),d.forEach(B)}(t,s.target,s.anchor,s.customElement),H()}D(h)}let ee;function te(e,{delay:n=0,duration:o=400,easing:i=t}={}){const r=+getComputedStyle(e).opacity;return{delay:n,duration:o,easing:i,css:e=>"opacity: "+e*r}}var ne,oe,ie,re,se,ce,ae;"function"==typeof HTMLElement&&(ee=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(n).filter(r);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){i(this.$$.on_disconnect)}$destroy(){!function(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}),function(e){e[e.Failed=0]="Failed",e[e.NoBrowserSupport=1]="NoBrowserSupport",e[e.NoAudioConsent=2]="NoAudioConsent",e[e.__UnrecoverableErrors=3]="__UnrecoverableErrors",e[e.Disconnected=4]="Disconnected",e[e.Disconnecting=5]="Disconnecting",e[e.Connecting=6]="Connecting",e[e.Preinitialized=7]="Preinitialized",e[e.Initializing=8]="Initializing",e[e.Connected=9]="Connected",e[e.Stopping=10]="Stopping",e[e.Starting=11]="Starting",e[e.Recording=12]="Recording"}(ne||(ne={})),function(e){e.SpeechlyFirstConnect="SpeechlyFirstConnect"}(oe||(oe={})),function(e){e.speechlypoweron="speechlypoweron",e.holdstart="holdstart",e.holdend="holdend",e.speechstate="speechstate",e.speechsegment="speechsegment",e.speechhandled="speechhandled",e.showhint="showhint",e.transcriptdrawerhint="hint",e.speechlyintroready="speechlyintroready",e.speechlyintroclosed="speechlyintroclosed"}(ie||(ie={})),function(e){e.Mic="mic",e.MicActive="micactive",e.Error="error",e.Denied="denied"}(re||(re={})),function(e){e.Hold="hold",e.Click="click",e.Noninteractive="noninteractive"}(se||(se={})),function(e){e.None="none",e.Connecting="connecting",e.Busy="busy"}(ce||(ce={})),function(e){e.None="none",e.Whirl="whirl"}(ae||(ae={})),ne.Disconnected,ne.Disconnecting,ne.Connecting,ne.Preinitialized,ne.Initializing,ne.Connected,ne.Starting,ne.Recording,ne.Stopping,ne.Failed,ne.NoBrowserSupport,ne.NoAudioConsent;const{window:le}=V;function de(e){let t,n,o,i,r,s,a,l,d,u,f,h;return{c(){t=v("modalcontent"),n=v("animation"),o=v("button"),i=y(" "),r=v("video"),s=v("source"),l=y("\n        Your browser does not support the video tag."),_(o,"class","close"),c(s.src,a=e[0])||_(s,"src",a),_(s,"type","video/mp4"),_(r,"width","100%"),_(r,"height","auto"),r.autoplay=!0,r.muted=!0,r.loop=!0,_(t,"class",e[2])},m(c,a){b(c,t,a),p(t,n),p(n,o),p(n,i),p(n,r),p(r,s),p(r,l),u=!0,f||(h=w(o,"click",e[5]),f=!0)},p(e,n){(!u||1&n&&!c(s.src,a=e[0]))&&_(s,"src",a),(!u||4&n)&&_(t,"class",e[2])},i(n){u||(B((()=>{d||(d=Q(t,e[4],{},!0)),d.run(1)})),u=!0)},o(n){d||(d=Q(t,e[4],{},!1)),d.run(0),u=!1},d(e){e&&$(t),e&&d&&d.end(),f=!1,h()}}}function ue(t){let n,o,r,s,c=t[3]&&de(t);return{c(){n=v("modal"),c&&c.c(),this.c=e,x(n,"--remsize",t[1])},m(e,i){b(e,n,i),c&&c.m(n,null),o=!0,r||(s=w(le,"keydown",t[6]),r=!0)},p(e,[t]){e[3]?c?(c.p(e,t),8&t&&G(c,1)):(c=de(e),c.c(),G(c,1),c.m(n,null)):c&&(Y={r:0,c:[],p:Y},J(c,1,1,(()=>{c=null})),Y.r||i(Y.c),Y=Y.p),(!o||2&t)&&x(n,"--remsize",e[1])},i(e){o||(G(c),o=!0)},o(e){J(c),o=!1},d(e){e&&$(n),c&&c.d(),r=!1,s()}}}function fe(e,t,n){let o,{video:i=""}=t,{hide:r}=t,{remsize:s="1.0rem"}=t,{position:c="fixed"}=t;const a=(()=>{const e=A();return(t,n)=>{e.dispatchEvent(new CustomEvent(t,{detail:n,composed:!0}))}})(),l=(d=te,function(e,t){if(!e.hasOwnProperty("ownerDocument")){Object.defineProperty(e,"ownerDocument",{get:function(){return e.parentElement}});let t=e;for(;t.parentElement;)t=t.parentElement;e.parentElement.head=t}return d(e,t)});var d;let u=!1;var f;f=()=>{n(8,u=!0)},A().$$.on_mount.push(f);const h=()=>{n(3,o=!1),a("speechlyvideoclosed"),window.postMessage({type:"speechlyvideoclosed"},"*")};return e.$$set=e=>{"video"in e&&n(0,i=e.video),"hide"in e&&n(7,r=e.hide),"remsize"in e&&n(1,s=e.remsize),"position"in e&&n(2,c=e.position)},e.$$.update=()=>{384&e.$$.dirty&&n(3,o=u&&"false"===r)},[i,s,c,o,l,h,e=>{u&&"Escape"===e.key&&(e.preventDefault(),h())},r,u]}class he extends ee{constructor(e){super(),this.shadowRoot.innerHTML="<style>modal{font-size:var(--remsize);height:100%}modalcontent{z-index:2001;pointer-events:none}modalcontent.fixed{position:fixed;top:0;left:0;right:0;bottom:0;overflow-x:hidden;overflow-y:auto}modalcontent.absolute{position:absolute;top:0;left:0;right:0;height:100vh}animation{position:absolute;box-sizing:border-box;width:300px;margin:1rem;top:0;right:0;border-radius:8px;pointer-events:auto}video{box-sizing:border-box;width:100%;border-radius:0.5rem;overflow:hidden;border:1px solid #0002}.close{--button-size:1.5rem;display:block;box-sizing:border-box;position:absolute;z-index:1000;top:0.25rem;right:0.25rem;margin:0;padding:0;width:var(--button-size);height:var(--button-size);border:0;color:black;border-radius:1.5rem;background:transparent;box-shadow:0 0 0 1px transparent;transition:transform 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),\n                background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1);-webkit-appearance:none}.close:before,.close:after{content:'';display:block;box-sizing:border-box;position:absolute;top:50%;width:calc(var(--button-size) - 0.5rem);height:1px;background:#728195;transform-origin:center;transition:height 0.2s cubic-bezier(0.25, 0.1, 0.25, 1),\n                background 0.2s cubic-bezier(0.25, 0.1, 0.25, 1)}.close:before{-webkit-transform:translate(0, -50%) rotate(45deg);-moz-transform:translate(0, -50%) rotate(45deg);transform:translate(0, -50%) rotate(45deg);left:0.25rem}.close:after{-webkit-transform:translate(0, -50%) rotate(-45deg);-moz-transform:translate(0, -50%) rotate(-45deg);transform:translate(0, -50%) rotate(-45deg);left:0.25rem}.close:hover{background:#ffffff}.close:hover:before,.close:hover:after{height:2px;background:black}.close:focus{border-color:#3399ff;box-shadow:0 0 0 2px #3399ff}.close:active{transform:scale(0.9)}.close:hover,.close:focus,.close:active{outline:none}</style>",Z(this,{target:this.shadowRoot,props:z(this.attributes),customElement:!0},fe,ue,a,{video:0,hide:7,remsize:1,position:2},null),e&&(e.target&&b(e.target,this,e.anchor),e.props&&(this.$set(e.props),H()))}static get observedAttributes(){return["video","hide","remsize","position"]}get video(){return this.$$.ctx[0]}set video(e){this.$$set({video:e}),H()}get hide(){return this.$$.ctx[7]}set hide(e){this.$$set({hide:e}),H()}get remsize(){return this.$$.ctx[1]}set remsize(e){this.$$set({remsize:e}),H()}get position(){return this.$$.ctx[2]}set position(e){this.$$set({position:e}),H()}}customElements.get("video-guide")?console.warn("Skipping re-defining customElement video-guide"):customElements.define("video-guide",he)}));
//# sourceMappingURL=video-guide.js.map
