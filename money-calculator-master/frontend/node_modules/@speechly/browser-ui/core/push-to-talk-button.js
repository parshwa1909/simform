!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function i(){return Object.create(null)}function o(t){t.forEach(n)}function s(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e}function c(t){return 0===Object.keys(t).length}const l="undefined"!=typeof window;let d=l?()=>window.performance.now():()=>Date.now(),h=l?t=>requestAnimationFrame(t):t;const u=new Set;function p(t){u.forEach((e=>{e.c(t)||(u.delete(e),e.f())})),0!==u.size&&h(p)}function f(t){let e;return 0===u.size&&h(p),{promise:new Promise((n=>{u.add(e={c:t,f:n})})),abort(){u.delete(e)}}}function g(t,e){t.appendChild(e)}function m(t,e,n){const i=v(t);if(!i.getElementById(e)){const t=x("style");t.id=e,t.textContent=n,w(i,t)}}function v(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function w(t,e){g(t.head||t,e)}function b(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode.removeChild(t)}function x(t){return document.createElement(t)}function S(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function C(t){return document.createTextNode(t)}function $(){return C(" ")}function k(){return C("")}function E(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function A(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function R(t,e,n){e in t?t[e]="boolean"==typeof t[e]&&""===n||n:A(t,e,n)}function _(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}function T(t,e,n){t.classList[n?"add":"remove"](e)}function z(t){const e={};for(const n of t)e[n.name]=n.value;return e}const I=new Set;let O,B=0;function M(t,e,n,i,o,s,r,a=0){const c=16.666/i;let l="{\n";for(let t=0;t<=1;t+=c){const i=e+(n-e)*s(t);l+=100*t+`%{${r(i,1-i)}}\n`}const d=l+`100% {${r(n,1-n)}}\n}`,h=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(d)}_${a}`,u=v(t);I.add(u);const p=u.__svelte_stylesheet||(u.__svelte_stylesheet=function(t){const e=x("style");return w(v(t),e),e}(t).sheet),f=u.__svelte_rules||(u.__svelte_rules={});f[h]||(f[h]=!0,p.insertRule(`@keyframes ${h} ${d}`,p.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${h} ${i}ms linear ${o}ms 1 both`,B+=1,h}function F(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-i.length;o&&(t.style.animation=i.join(", "),B-=o,B||h((()=>{B||(I.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),I.clear())})))}function W(t){O=t}function L(){if(!O)throw new Error("Function called outside component initialization");return O}function N(t){L().$$.on_mount.push(t)}const D=[],P=[],U=[],j=[],V=Promise.resolve();let H=!1;function G(t){U.push(t)}let X=!1;const q=new Set;function J(){if(!X){X=!0;do{for(let t=0;t<D.length;t+=1){const e=D[t];W(e),K(e.$$)}for(W(null),D.length=0;P.length;)P.pop()();for(let t=0;t<U.length;t+=1){const e=U[t];q.has(e)||(q.add(e),e())}U.length=0}while(D.length);for(;j.length;)j.pop()();H=!1,X=!1,q.clear()}}function K(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(G)}}let Y;function Z(){return Y||(Y=Promise.resolve(),Y.then((()=>{Y=null}))),Y}function Q(t,e,n){t.dispatchEvent(function(t,e,n=!1){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,!1,e),i}(`${e?"intro":"outro"}${n}`))}const tt=new Set;let et;function nt(t,e){t&&t.i&&(tt.delete(t),t.i(e))}function it(t,e,n,i){if(t&&t.o){if(tt.has(t))return;tt.add(t),et.c.push((()=>{tt.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}const ot={duration:0};const st="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function rt(t){t&&t.c()}function at(t,e,i,r){const{fragment:a,on_mount:c,on_destroy:l,after_update:d}=t.$$;a&&a.m(e,i),r||G((()=>{const e=c.map(n).filter(s);l?l.push(...e):o(e),t.$$.on_mount=[]})),d.forEach(G)}function ct(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function lt(t,e){-1===t.$$.dirty[0]&&(D.push(t),H||(H=!0,V.then(J)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function dt(e,n,s,r,a,c,l,d=[-1]){const h=O;W(e);const u=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:a,bound:i(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(h?h.$$.context:[])),callbacks:i(),dirty:d,skip_bound:!1,root:n.target||h.$$.root};l&&l(u.root);let p=!1;if(u.ctx=s?s(e,n.props||{},((t,n,...i)=>{const o=i.length?i[0]:n;return u.ctx&&a(u.ctx[t],u.ctx[t]=o)&&(!u.skip_bound&&u.bound[t]&&u.bound[t](o),p&&lt(e,t)),n})):[],u.update(),p=!0,o(u.before_update),u.fragment=!!r&&r(u.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);u.fragment&&u.fragment.l(t),t.forEach(y)}else u.fragment&&u.fragment.c();n.intro&&nt(e.$$.fragment),at(e,n.target,n.anchor,n.customElement),J()}W(h)}let ht;"function"==typeof HTMLElement&&(ht=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(n).filter(s);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){o(this.$$.on_disconnect)}$destroy(){ct(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!c(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class ut{$destroy(){ct(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!c(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function pt(t){m(t,"svelte-1mwhwtl",".Frame.svelte-1mwhwtl{position:absolute;width:100%;height:100%;top:50%;left:50%;transform-origin:50% 50%;transform:translate(-50%, -50%) rotate(var(--fx-rotation));transition:width 0.1s, height 0.1s;pointer-events:none;user-select:none}")}function ft(e){let n,i,o,s,r,a,c;return{c(){n=S("svg"),i=S("defs"),o=S("linearGradient"),s=S("stop"),r=S("stop"),a=S("circle"),c=S("circle"),A(s,"stop-color","var(--gradient-stop1)"),A(s,"offset","0%"),A(r,"stop-color","var(--gradient-stop2)"),A(r,"offset","100%"),A(o,"x1","50%"),A(o,"y1","0%"),A(o,"x2","50%"),A(o,"y2","100%"),A(o,"id","a"),A(a,"cx","46"),A(a,"cy","46"),A(a,"r",e[0]),A(a,"stroke","none"),A(a,"fill","var(--frame-background)"),A(c,"cx","46"),A(c,"cy","46"),A(c,"r",e[0]),A(c,"stroke","url(#a)"),A(c,"stroke-width","var(--frame-stroke-width)"),A(c,"fill","none"),A(n,"class","Frame svelte-1mwhwtl"),A(n,"viewBox","0 0 92 92"),A(n,"xmlns","http://www.w3.org/2000/svg")},m(t,e){b(t,n,e),g(n,i),g(i,o),g(o,s),g(o,r),g(n,a),g(n,c)},p(t,[e]){1&e&&A(a,"r",t[0]),1&e&&A(c,"r",t[0])},i:t,o:t,d(t){t&&y(n)}}}function gt(t,e,n){let{frameRadius:i=46}=e;return t.$$set=t=>{"frameRadius"in t&&n(0,i=t.frameRadius)},[i]}class mt extends ut{constructor(t){super(),dt(this,t,gt,ft,r,{frameRadius:0},pt)}}var vt,wt,bt,yt,xt,St,Ct;!function(t){t[t.Failed=0]="Failed",t[t.NoBrowserSupport=1]="NoBrowserSupport",t[t.NoAudioConsent=2]="NoAudioConsent",t[t.__UnrecoverableErrors=3]="__UnrecoverableErrors",t[t.Disconnected=4]="Disconnected",t[t.Disconnecting=5]="Disconnecting",t[t.Connecting=6]="Connecting",t[t.Preinitialized=7]="Preinitialized",t[t.Initializing=8]="Initializing",t[t.Connected=9]="Connected",t[t.Stopping=10]="Stopping",t[t.Starting=11]="Starting",t[t.Recording=12]="Recording"}(vt||(vt={})),function(t){t.SpeechlyFirstConnect="SpeechlyFirstConnect"}(wt||(wt={})),function(t){t.speechlypoweron="speechlypoweron",t.holdstart="holdstart",t.holdend="holdend",t.speechstate="speechstate",t.speechsegment="speechsegment",t.speechhandled="speechhandled",t.showhint="showhint",t.transcriptdrawerhint="hint",t.speechlyintroready="speechlyintroready",t.speechlyintroclosed="speechlyintroclosed"}(bt||(bt={})),function(t){t.Mic="mic",t.MicActive="micactive",t.Error="error",t.Denied="denied"}(yt||(yt={})),function(t){t.Hold="hold",t.Click="click",t.Noninteractive="noninteractive"}(xt||(xt={})),function(t){t.None="none",t.Connecting="connecting",t.Busy="busy"}(St||(St={})),function(t){t.None="none",t.Whirl="whirl"}(Ct||(Ct={}));const $t={[vt.Disconnected]:{icon:"mic",behaviour:"click",effect:"none",triggerFx:"whirl"},[vt.Disconnecting]:{icon:"mic",behaviour:"noninteractive",effect:"connecting"},[vt.Connecting]:{icon:"mic",behaviour:"noninteractive",effect:"connecting"},[vt.Preinitialized]:{icon:"mic",behaviour:"hold",effect:"none",triggerFx:"whirl"},[vt.Initializing]:{icon:"mic",behaviour:"noninteractive",effect:"connecting"},[vt.Connected]:{icon:"mic",behaviour:"hold",effect:"none",triggerFx:"whirl"},[vt.Starting]:{icon:"mic",behaviour:"hold",effect:"connecting"},[vt.Recording]:{icon:"micactive",behaviour:"hold",effect:"none"},[vt.Stopping]:{icon:"mic",behaviour:"noninteractive",effect:"busy"},[vt.Failed]:{icon:"error",behaviour:"click",effect:"none"},[vt.NoBrowserSupport]:{icon:"error",behaviour:"click",effect:"none"},[vt.NoAudioConsent]:{icon:"denied",behaviour:"click",effect:"none"}};function kt(t){m(t,"svelte-s2u2hd",".Icon.svelte-s2u2hd{position:absolute;width:var(--icon-size);height:var(--icon-size);top:50%;left:50%;transform:translate(-50%, -50%);pointer-events:none;transition:0.25s;opacity:var(--icon-opacity)}")}function Et(t){let e,n,i,o,s,r,a,c,l,d,h,u,p;return{c(){e=S("svg"),n=S("linearGradient"),i=S("animate"),o=S("animate"),s=S("stop"),r=S("stop"),a=S("stop"),c=S("stop"),l=S("stop"),d=C(">\n  "),h=S("g"),u=S("path"),p=S("rect"),A(i,"attributeName","y1"),A(i,"values","-200%; 0%;"),A(i,"dur","2s"),A(i,"repeatCount","indefinite"),A(o,"attributeName","y2"),A(o,"values","200%; 400%;"),A(o,"dur","2s"),A(o,"repeatCount","indefinite"),A(s,"offset","0%"),A(s,"stop-color","var(--gradient-stop1)"),A(r,"offset","25%"),A(r,"stop-color","var(--gradient-stop2)"),A(a,"offset","50%"),A(a,"stop-color","var(--gradient-stop1)"),A(c,"offset","75%"),A(c,"stop-color","var(--gradient-stop2)"),A(l,"offset","100%"),A(l,"stop-color","var(--gradient-stop1)"),A(n,"id","gradient"),A(n,"x1","50%"),A(n,"y1","-200%"),A(n,"x2","50%"),A(n,"y2","200%"),A(u,"d","M42 26h4v4c0 9.265-7 16.895-16 17.89V55h-4v-7.11c-8.892-.982-15.833-8.444-15.997-17.56L10 30v-4h4v4c0 7.732 6.268 14 14 14 7.628 0 13.83-6.1 13.997-13.687L42 30v-4z"),A(p,"x","20"),A(p,"y","1"),A(p,"width","16"),A(p,"height","37"),A(p,"rx","8"),A(h,"fill","url(#gradient)"),A(h,"fill-rule","evenodd"),A(e,"class","Icon svelte-s2u2hd"),A(e,"viewBox","0 0 56 56"),A(e,"xmlns","http://www.w3.org/2000/svg")},m(t,f){b(t,e,f),g(e,n),g(n,i),g(n,o),g(n,s),g(n,r),g(n,a),g(n,c),g(n,l),g(e,d),g(e,h),g(h,u),g(h,p)},d(t){t&&y(e)}}}function At(t){let e,n,i,o;return{c(){e=S("svg"),n=S("g"),i=S("path"),o=S("rect"),A(i,"d","M42 26h4v4c0 9.265-7 16.895-16 17.89V55h-4v-7.11c-8.892-.982-15.833-8.444-15.997-17.56L10 30v-4h4v4c0 7.732 6.268 14 14 14 7.628 0 13.83-6.1 13.997-13.687L42 30v-4z"),A(o,"x","20"),A(o,"y","1"),A(o,"width","16"),A(o,"height","37"),A(o,"rx","8"),A(n,"fill","var(--icon-color)"),A(n,"fill-rule","evenodd"),A(e,"class","Icon svelte-s2u2hd"),A(e,"viewBox","0 0 56 56"),A(e,"xmlns","http://www.w3.org/2000/svg")},m(t,s){b(t,e,s),g(e,n),g(n,i),g(n,o)},d(t){t&&y(e)}}}function Rt(t){let e,n,i,o;return{c(){e=S("svg"),n=S("g"),i=S("path"),o=S("path"),A(i,"d","M42 26h4v4c0 9.265-7 16.895-16 17.89V55h-4v-7.11c-8.892-.982-15.833-8.444-15.997-17.56L10 30v-4h4v4c0 7.732 6.268 14 14 14 7.628 0 13.83-6.1 13.997-13.687L42 30v-4z"),A(i,"fill-rule","nonzero"),A(o,"d","M37 13.081V31a8 8 0 11-16 0v-1.919l16-16zM26 1a8 8 0 018 8v1.319L18 26.318V9a8 8 0 018-8zM37.969 7.932l3.74-7.35 3.018 2.625zM39.654 10.608l7.531-3.359.695 3.94z"),A(n,"fill","var(--icon-color)"),A(n,"fill-rule","evenodd"),A(e,"class","Icon svelte-s2u2hd"),A(e,"viewBox","0 0 56 56"),A(e,"xmlns","http://www.w3.org/2000/svg")},m(t,s){b(t,e,s),g(e,n),g(n,i),g(n,o)},d(t){t&&y(e)}}}function _t(t){let e,n,i,o;return{c(){e=S("svg"),n=S("g"),i=S("path"),o=S("path"),A(i,"d","M36 14.828V30a8 8 0 01-15.961.79l15.96-15.962zM28 1a8 8 0 018 8v.172L20 25.173V9a8 8 0 018-8z"),A(o,"d","M42 26h4v4c0 9.265-7 16.895-16 17.89V55h-4v-7.11c-8.892-.982-15.833-8.444-15.997-17.56L10 30v-4h4v4c0 7.732 6.268 14 14 14 7.628 0 13.83-6.1 13.997-13.687L42 30v-4z"),A(n,"fill","var(--icon-color)"),A(n,"fill-rule","nonzero"),A(e,"class","Icon svelte-s2u2hd"),A(e,"viewBox","0 0 56 56"),A(e,"xmlns","http://www.w3.org/2000/svg")},m(t,s){b(t,e,s),g(e,n),g(n,i),g(n,o)},d(t){t&&y(e)}}}function Tt(e){let n,i,o,s,r=e[0]===yt.MicActive&&Et(),a=e[0]===yt.Mic&&At(),c=e[0]===yt.Error&&Rt(),l=e[0]===yt.Denied&&_t();return{c(){r&&r.c(),n=$(),a&&a.c(),i=$(),c&&c.c(),o=$(),l&&l.c(),s=k()},m(t,e){r&&r.m(t,e),b(t,n,e),a&&a.m(t,e),b(t,i,e),c&&c.m(t,e),b(t,o,e),l&&l.m(t,e),b(t,s,e)},p(t,[e]){t[0]===yt.MicActive?r||(r=Et(),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null),t[0]===yt.Mic?a||(a=At(),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null),t[0]===yt.Error?c||(c=Rt(),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null),t[0]===yt.Denied?l||(l=_t(),l.c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},i:t,o:t,d(t){r&&r.d(t),t&&y(n),a&&a.d(t),t&&y(i),c&&c.d(t),t&&y(o),l&&l.d(t),t&&y(s)}}}function zt(t,e,n){let{icon:i=yt.Mic}=e;return t.$$set=t=>{"icon"in t&&n(0,i=t.icon)},[i]}class It extends ut{constructor(t){super(),dt(this,t,zt,Tt,r,{icon:0},kt)}}function Ot(t){m(t,"svelte-1fpkb0k",".Fx.svelte-1fpkb0k{position:absolute;width:var(--fx-size);height:var(--fx-size);top:50%;left:50%;transform-origin:50% 50%;transform:translate(-50%, -50%) rotate(var(--fx-rotation));pointer-events:none;opacity:var(--fx-opacity)}")}function Bt(e){let n,i,o,s,r,a,c,l;return{c(){n=S("svg"),i=S("defs"),o=S("linearGradient"),s=S("stop"),r=S("stop"),a=S("filter"),c=S("feGaussianBlur"),l=S("circle"),A(s,"stop-color","var(--fx-gradient-stop1)"),A(s,"offset","0%"),A(r,"stop-color","var(--fx-gradient-stop2)"),A(r,"offset","100%"),A(o,"x1","50%"),A(o,"y1","10%"),A(o,"x2","50%"),A(o,"y2","100%"),A(o,"id","a"),A(c,"stdDeviation","18"),A(c,"in","SourceGraphic"),A(a,"x","-35%"),A(a,"y","-35%"),A(a,"width","170%"),A(a,"height","170%"),A(a,"filterUnits","objectBoundingBox"),A(a,"id","b"),A(l,"filter","url(#b)"),A(l,"cx","124"),A(l,"cy","124"),A(l,"r","79"),A(l,"fill","url(#a)"),A(l,"fillrule","evenodd"),A(n,"class","Fx svelte-1fpkb0k"),A(n,"viewBox","0 0 246 246"),A(n,"xmlns","http://www.w3.org/2000/svg")},m(t,e){b(t,n,e),g(n,i),g(i,o),g(o,s),g(o,r),g(i,a),g(a,c),g(n,l)},p:t,i:t,o:t,d(t){t&&y(n)}}}class Mt extends ut{constructor(t){super(),dt(this,t,null,Bt,r,{},Ot)}}const{window:Ft}=st;function Wt(t){let e;return{c(){e=x("link"),A(e,"href",t[9]),A(e,"rel","stylesheet")},m(t,n){b(t,e,n)},p(t,n){512&n[0]&&A(e,"href",t[9])},d(t){t&&y(e)}}}function Lt(e){let n,i,s,r,a,c,l,d,h,u,p,f,m=void 0!==e[9]&&Wt(e);return s=new Mt({}),a=new mt({props:{frameRadius:e[16]}}),l=new It({props:{icon:e[15].icon}}),{c(){m&&m.c(),n=$(),i=x("main"),rt(s.$$.fragment),r=$(),rt(a.$$.fragment),c=$(),rt(l.$$.fragment),d=$(),h=x("slot"),this.c=t,A(i,"class","HoldableButton"),_(i,"width",e[0]),_(i,"height",e[0]),_(i,"--gradient-stop1",e[5]),_(i,"--gradient-stop2",e[6]),_(i,"--fx-gradient-stop1",e[7]||e[5]),_(i,"--fx-gradient-stop2",e[8]||e[6]),_(i,"--fx-rotation",e[11][1]+"deg"),_(i,"--fx-opacity",e[14][1]),_(i,"--fx-size",e[2]),_(i,"--icon-opacity",e[13][1]),_(i,"--icon-size",e[1]),_(i,"--icon-color",e[4]),_(i,"--frame-stroke-width",e[17]),_(i,"--frame-background",e[3]),_(i,"transform","scale("+e[12][1]+")"),T(i,"pressed",e[10])},m(t,o){m&&m.m(t,o),b(t,n,o),b(t,i,o),at(s,i,null),g(i,r),at(a,i,null),g(i,c),at(l,i,null),g(i,d),g(i,h),u=!0,p||(f=[E(Ft,"mouseup",e[19]),E(Ft,"keydown",e[20]),E(Ft,"keyup",e[21]),E(i,"mousedown",e[18]),E(i,"touchstart",e[18]),E(i,"dragstart",e[18]),E(i,"mouseup",e[19]),E(i,"touchend",e[19],{passive:!0}),E(i,"dragend",e[19])],p=!0)},p(t,e){void 0!==t[9]?m?m.p(t,e):(m=Wt(t),m.c(),m.m(n.parentNode,n)):m&&(m.d(1),m=null);const o={};65536&e[0]&&(o.frameRadius=t[16]),a.$set(o);const s={};32768&e[0]&&(s.icon=t[15].icon),l.$set(s),(!u||1&e[0])&&_(i,"width",t[0]),(!u||1&e[0])&&_(i,"height",t[0]),(!u||32&e[0])&&_(i,"--gradient-stop1",t[5]),(!u||64&e[0])&&_(i,"--gradient-stop2",t[6]),(!u||160&e[0])&&_(i,"--fx-gradient-stop1",t[7]||t[5]),(!u||320&e[0])&&_(i,"--fx-gradient-stop2",t[8]||t[6]),(!u||2048&e[0])&&_(i,"--fx-rotation",t[11][1]+"deg"),(!u||16384&e[0])&&_(i,"--fx-opacity",t[14][1]),(!u||4&e[0])&&_(i,"--fx-size",t[2]),(!u||8192&e[0])&&_(i,"--icon-opacity",t[13][1]),(!u||2&e[0])&&_(i,"--icon-size",t[1]),(!u||16&e[0])&&_(i,"--icon-color",t[4]),(!u||131072&e[0])&&_(i,"--frame-stroke-width",t[17]),(!u||8&e[0])&&_(i,"--frame-background",t[3]),(!u||4096&e[0])&&_(i,"transform","scale("+t[12][1]+")"),1024&e[0]&&T(i,"pressed",t[10])},i(t){u||(nt(s.$$.fragment,t),nt(a.$$.fragment,t),nt(l.$$.fragment,t),u=!0)},o(t){it(s.$$.fragment,t),it(a.$$.fragment,t),it(l.$$.fragment,t),u=!1},d(t){m&&m.d(t),t&&y(n),t&&y(i),ct(s),ct(a),ct(l),p=!1,o(f)}}}function Nt(t,e,n){let i,o,s,r,{icon:a=vt.Disconnected}=e,{capturekey:c=" "}=e,{hide:l}=e,{size:d="80px"}=e,{holdscale:h="1.35"}=e,{borderscale:u="0.075"}=e,{iconsize:p="60%"}=e,{fxsize:f="250%"}=e,{backgroundcolor:g="#ffffff"}=e,{iconcolor:m="#000000"}=e,{gradientstop1:v="#15e8b5"}=e,{gradientstop2:w="#4fa1f9"}=e,{fxgradientstop1:b}=e,{fxgradientstop2:y}=e,{customcssurl:x}=e;let S=!1,C=0,$=[0,0],k=[0,0],E=[1,1],A=[0,0],R=$t[a],_=null,T=0,z=0;const I=L(),O=(t,e)=>{I.dispatchEvent(new CustomEvent(t,{detail:e,composed:!0}))};N((()=>{n(12,k=[1,0]);let t=null;const e=()=>{T=z,z=(new Date).getTime();const o=z-(T||z);R.effect===St.Connecting&&n(13,E[0]=.25*Math.cos(z/2500*Math.PI*2)+.25,E),R.effect===St.Busy&&n(13,E[0]=.25*Math.cos(z/1e3*Math.PI*2)+.25,E),n(12,k=[k[0],F(k[1],i?k[0]:0,.2,o)]),n(13,E=[E[0],F(E[1],E[0],.08,o)]),n(14,A=[A[0],F(A[1],A[0],.08,o)]),n(11,$=[$[0]+2.5,F($[1],$[0],.05,o)]),t=requestAnimationFrame(e)};return e(),()=>cancelAnimationFrame(t)}));const B=t=>{t.preventDefault(),t.stopPropagation(),i&&!S&&(n(10,S=!0),C=Date.now(),W(),R.triggerFx===Ct.Whirl&&n(11,$[0]+=720,$),R.behaviour===xt.Click&&null===_&&(_=window.setTimeout((()=>{n(14,A[0]=0,A),_=null}),500)),I.onholdstart&&I.onholdstart(),O(bt.holdstart))},M=()=>{if(S){n(10,S=!1);const t={timeMs:Date.now()-C};W(),null!==_&&window.clearTimeout(_),I.onholdend&&I.onholdend(t),O("holdend",t)}},F=(t,e,n,i)=>t*(1-(n=Math.pow(n,1e3/60/i)))+e*n,W=(t=5)=>{void 0!==navigator.vibrate&&navigator.vibrate(t)};return t.$$set=t=>{"icon"in t&&n(22,a=t.icon),"capturekey"in t&&n(23,c=t.capturekey),"hide"in t&&n(24,l=t.hide),"size"in t&&n(0,d=t.size),"holdscale"in t&&n(25,h=t.holdscale),"borderscale"in t&&n(26,u=t.borderscale),"iconsize"in t&&n(1,p=t.iconsize),"fxsize"in t&&n(2,f=t.fxsize),"backgroundcolor"in t&&n(3,g=t.backgroundcolor),"iconcolor"in t&&n(4,m=t.iconcolor),"gradientstop1"in t&&n(5,v=t.gradientstop1),"gradientstop2"in t&&n(6,w=t.gradientstop2),"fxgradientstop1"in t&&n(7,b=t.fxgradientstop1),"fxgradientstop2"in t&&n(8,y=t.fxgradientstop2),"customcssurl"in t&&n(9,x=t.customcssurl)},t.$$.update=()=>{16777216&t.$$.dirty[0]&&(i=void 0===l||"false"===l),67108864&t.$$.dirty[0]&&n(17,o=""+46*u),67108864&t.$$.dirty[0]&&n(16,s=46-23*u),33554432&t.$$.dirty[0]&&(r=h),4195328&t.$$.dirty[0]&&((t,e)=>{switch(n(15,R=$t[e]),n(12,k[0]=t?r:1,k),n(14,A[0]=t||e==vt.Recording?1:0,A),R.icon){case yt.MicActive:case yt.Mic:case yt.Denied:case yt.Error:n(13,E[0]=1,E)}})(S,a)},[d,p,f,g,m,v,w,b,y,x,S,$,k,E,A,R,s,o,B,M,t=>{c&&(t.key===c&&(document.hasFocus()&&document.activeElement!==document.body&&document.activeElement!==document.documentElement&&document.activeElement||null||(t.repeat?(t.preventDefault(),t.stopPropagation()):B(t))))},t=>{t.key===c&&M()},a,c,l,h,u,()=>S]}class Dt extends ht{constructor(t){super(),this.shadowRoot.innerHTML="<style>main{text-align:left;position:relative;pointer-events:auto;cursor:pointer;border-radius:50%;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none !important;-webkit-user-select:none !important}</style>",dt(this,{target:this.shadowRoot,props:z(this.attributes),customElement:!0},Nt,Lt,a,{icon:22,capturekey:23,hide:24,size:0,holdscale:25,borderscale:26,iconsize:1,fxsize:2,backgroundcolor:3,iconcolor:4,gradientstop1:5,gradientstop2:6,fxgradientstop1:7,fxgradientstop2:8,customcssurl:9,isbuttonpressed:27},null,[-1,-1]),t&&(t.target&&b(t.target,this,t.anchor),t.props&&(this.$set(t.props),J()))}static get observedAttributes(){return["icon","capturekey","hide","size","holdscale","borderscale","iconsize","fxsize","backgroundcolor","iconcolor","gradientstop1","gradientstop2","fxgradientstop1","fxgradientstop2","customcssurl","isbuttonpressed"]}get icon(){return this.$$.ctx[22]}set icon(t){this.$$set({icon:t}),J()}get capturekey(){return this.$$.ctx[23]}set capturekey(t){this.$$set({capturekey:t}),J()}get hide(){return this.$$.ctx[24]}set hide(t){this.$$set({hide:t}),J()}get size(){return this.$$.ctx[0]}set size(t){this.$$set({size:t}),J()}get holdscale(){return this.$$.ctx[25]}set holdscale(t){this.$$set({holdscale:t}),J()}get borderscale(){return this.$$.ctx[26]}set borderscale(t){this.$$set({borderscale:t}),J()}get iconsize(){return this.$$.ctx[1]}set iconsize(t){this.$$set({iconsize:t}),J()}get fxsize(){return this.$$.ctx[2]}set fxsize(t){this.$$set({fxsize:t}),J()}get backgroundcolor(){return this.$$.ctx[3]}set backgroundcolor(t){this.$$set({backgroundcolor:t}),J()}get iconcolor(){return this.$$.ctx[4]}set iconcolor(t){this.$$set({iconcolor:t}),J()}get gradientstop1(){return this.$$.ctx[5]}set gradientstop1(t){this.$$set({gradientstop1:t}),J()}get gradientstop2(){return this.$$.ctx[6]}set gradientstop2(t){this.$$set({gradientstop2:t}),J()}get fxgradientstop1(){return this.$$.ctx[7]}set fxgradientstop1(t){this.$$set({fxgradientstop1:t}),J()}get fxgradientstop2(){return this.$$.ctx[8]}set fxgradientstop2(t){this.$$set({fxgradientstop2:t}),J()}get customcssurl(){return this.$$.ctx[9]}set customcssurl(t){this.$$set({customcssurl:t}),J()}get isbuttonpressed(){return this.$$.ctx[27]}}function Pt(n){let i,r,a,c,l,h,u,p,m,v,w=jt;return{c(){i=x("div"),r=x("div"),r.innerHTML="<slot></slot>",a=$(),c=x("div"),l=$(),w&&w.c(),A(r,"class","CalloutDiv"),T(r,"useShadow",jt),A(c,"class","ArrowDiv"),_(c,"--ax",n[3].x),_(c,"--ay","100%"),A(i,"class","CalloutContainerDiv"),_(i,"width",n[1])},m(t,e){b(t,i,e),g(i,r),g(i,a),g(i,c),g(i,l),w&&w.m(i,null),p=!0,m||(v=[E(i,"mousedown",n[7]),E(i,"touchstart",n[7]),E(i,"dragstart",n[7])],m=!0)},p(t,e){(!p||8&e)&&_(c,"--ax",t[3].x),(!p||2&e)&&_(i,"width",t[1])},i(o){p||(G((()=>{u&&u.end(1),h=function(n,i,o){let r,a,c=i(n,o),l=!1,h=0;function u(){r&&F(n,r)}function p(){const{delay:i=0,duration:o=300,easing:s=e,tick:p=t,css:g}=c||ot;g&&(r=M(n,0,1,o,i,s,g,h++)),p(0,1);const m=d()+i,v=m+o;a&&a.abort(),l=!0,G((()=>Q(n,!0,"start"))),a=f((t=>{if(l){if(t>=v)return p(1,0),Q(n,!0,"end"),u(),l=!1;if(t>=m){const e=s((t-m)/o);p(e,1-e)}}return l}))}let g=!1;return{start(){g||(g=!0,F(n),s(c)?(c=c(),Z().then(p)):p())},invalidate(){g=!1},end(){l&&(u(),l=!1)}}}(i,n[6],{}),h.start()})),p=!0)},o(r){h&&h.invalidate(),u=function(n,i,r){let a,c=i(n,r),l=!0;const h=et;function u(){const{delay:i=0,duration:s=300,easing:r=e,tick:u=t,css:p}=c||ot;p&&(a=M(n,1,0,s,i,r,p));const g=d()+i,m=g+s;G((()=>Q(n,!1,"start"))),f((t=>{if(l){if(t>=m)return u(0,1),Q(n,!1,"end"),--h.r||o(h.c),!1;if(t>=g){const e=r((t-g)/s);u(1-e,e)}}return l}))}return h.r+=1,s(c)?Z().then((()=>{c=c(),u()})):u(),{end(t){t&&c.tick&&c.tick(1,0),l&&(a&&F(n,a),l=!1)}}}(i,n[6],{}),p=!1},d(t){t&&y(i),w&&w.d(),t&&u&&u.end(),m=!1,o(v)}}}function Ut(e){let n,i,s=e[2]&&Pt(e);return{c(){n=x("main"),s&&s.c(),this.c=t,_(n,"--ax",e[4].x),_(n,"--ay",e[4].y),_(n,"--halign",e[3].x),_(n,"--valign",e[3].y),_(n,"--borderradius",Vt),_(n,"--arrowpad",`${e[5].value}${e[5].unit}`),_(n,"--backgroundcolor",e[0]),_(n,"--size",`${e[5].value*Math.sqrt(2)}${e[5].unit}`),_(n,"--offsetx","0rem"),_(n,"--offsety",`${e[5].value}${e[5].unit}`)},m(t,e){b(t,n,e),s&&s.m(n,null),i=!0},p(t,[e]){t[2]?s?(s.p(t,e),4&e&&nt(s,1)):(s=Pt(t),s.c(),nt(s,1),s.m(n,null)):s&&(et={r:0,c:[],p:et},it(s,1,1,(()=>{s=null})),et.r||o(et.c),et=et.p),(!i||8&e)&&_(n,"--halign",t[3].x),(!i||8&e)&&_(n,"--valign",t[3].y),(!i||1&e)&&_(n,"--backgroundcolor",t[0])},i(t){i||(nt(s),i=!0)},o(t){it(s),i=!1},d(t){t&&y(n),s&&s.d()}}}customElements.get("holdable-button")?console.warn("Skipping re-defining customElement holdable-button"):customElements.define("holdable-button",Dt);let jt=!1,Vt="0rem";function Ht(t,e,n){let i,{show:o}=e,{showtime:s=1e4}=e,{backgroundcolor:r="#202020"}=e,{xalign:a="50%"}=e,{width:c="auto"}=e,l=null,d=!1;const h=(u=(t,{duration:e=250})=>({duration:e,css:t=>`\n          clip-path: circle(${100*t}% at ${i.x} 50%);\n        `}),function(t,e){if(!t.hasOwnProperty("ownerDocument")){Object.defineProperty(t,"ownerDocument",{get:function(){return t.parentElement}});let e=t;for(;e.parentElement;)e=e.parentElement;t.parentElement.head=e}return u(t,e)});var u;return t.$$set=t=>{"show"in t&&n(8,o=t.show),"showtime"in t&&n(9,s=t.showtime),"backgroundcolor"in t&&n(0,r=t.backgroundcolor),"xalign"in t&&n(10,a=t.xalign),"width"in t&&n(1,c=t.width)},t.$$.update=()=>{1024&t.$$.dirty&&n(3,i={x:a,y:"100%"}),256&t.$$.dirty&&(t=>{null!==l&&(window.clearTimeout(l),l=null),void 0!==t&&"false"!==t?l=window.setTimeout((()=>{n(2,d=!0),l=null,s>0&&(l=window.setTimeout((()=>{n(2,d=!1),l=null}),s))}),500):n(2,d=!1)})(o)},[r,c,d,i,{x:"50%",y:"10%"},{value:.55,unit:"rem"},h,t=>{t.preventDefault(),t.stopPropagation(),n(2,d=!1)},o,s,a]}class Gt extends ht{constructor(t){super(),this.shadowRoot.innerHTML="<style>main{margin:0;padding:0}.CalloutContainerDiv{position:absolute;left:var(--ax);top:var(--ay);transform:translate(calc(-1 * var(--halign)), calc(-1 * var(--valign)));padding:var(--arrowpad);z-index:10;pointer-events:auto}.CalloutDiv{position:relative;box-sizing:border-box;min-width:8rem;border-radius:var(--borderradius);padding:0.50rem 1rem;background-color:var(--backgroundcolor);text-align:center;user-select:none;z-index:10}.useShadow{box-shadow:0 0.2rem 0.5rem #00000040}.ArrowDiv{position:absolute;left:calc(var(--ax) - var(--offsetx));top:calc(var(--ay) - var(--offsety));transform:translate(-50%, -50%) rotate(45deg);width:var(--size);height:var(--size);background-color:var(--backgroundcolor);z-index:10}.ArrowShadowDiv{position:absolute;left:calc(var(--ax) - var(--offsetx));top:calc(var(--ay) - var(--offsety));transform:translate(-50%, -50%) rotate(45deg);width:var(--size);height:var(--size);background-color:var(--backgroundcolor);background-color:#00000000;box-shadow:0 0.2rem 0.5rem #00000040;z-index:9}</style>",dt(this,{target:this.shadowRoot,props:z(this.attributes),customElement:!0},Ht,Ut,a,{show:8,showtime:9,backgroundcolor:0,xalign:10,width:1},null),t&&(t.target&&b(t.target,this,t.anchor),t.props&&(this.$set(t.props),J()))}static get observedAttributes(){return["show","showtime","backgroundcolor","xalign","width"]}get show(){return this.$$.ctx[8]}set show(t){this.$$set({show:t}),J()}get showtime(){return this.$$.ctx[9]}set showtime(t){this.$$set({showtime:t}),J()}get backgroundcolor(){return this.$$.ctx[0]}set backgroundcolor(t){this.$$set({backgroundcolor:t}),J()}get xalign(){return this.$$.ctx[10]}set xalign(t){this.$$set({xalign:t}),J()}get width(){return this.$$.ctx[1]}set width(t){this.$$set({width:t}),J()}}var Xt;function qt(t){var e;return null!==(e=Kt.get(t))&&void 0!==e?e:Jt}customElements.get("call-out")?console.warn("Skipping re-defining customElement call-out"):customElements.define("call-out",Gt),function(t){t[t.Failed=0]="Failed",t[t.NoBrowserSupport=1]="NoBrowserSupport",t[t.NoAudioConsent=2]="NoAudioConsent",t[t.__UnrecoverableErrors=3]="__UnrecoverableErrors",t[t.Disconnected=4]="Disconnected",t[t.Disconnecting=5]="Disconnecting",t[t.Connecting=6]="Connecting",t[t.Preinitialized=7]="Preinitialized",t[t.Initializing=8]="Initializing",t[t.Connected=9]="Connected",t[t.Stopping=10]="Stopping",t[t.Starting=11]="Starting",t[t.Recording=12]="Recording"}(Xt||(Xt={}));const Jt="Unknown",Kt=new Map([[Xt.Failed,"Failed"],[Xt.NoBrowserSupport,"NoBrowserSupport"],[Xt.NoAudioConsent,"NoAudioConsent"],[Xt.Disconnecting,"Disconnecting"],[Xt.Disconnected,"Disconnected"],[Xt.Connecting,"Connecting"],[Xt.Preinitialized,"Preinitialized"],[Xt.Initializing,"Initializing"],[Xt.Connected,"Connected"],[Xt.Stopping,"Stopping"],[Xt.Starting,"Starting"],[Xt.Recording,"Recording"]]);
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
function Yt(t,e,n,i){return new(n||(n=Promise))((function(o,s){function r(t){try{c(i.next(t))}catch(t){s(t)}}function a(t){try{c(i.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}c((i=i.apply(t,e||[])).next())}))}var Zt,Qt=new Uint8Array(16);function te(){if(!Zt&&!(Zt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zt(Qt)}var ee=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ne(t){return"string"==typeof t&&ee.test(t)}for(var ie=[],oe=0;oe<256;++oe)ie.push((oe+256).toString(16).substr(1));function se(t,e,n){var i=(t=t||{}).random||(t.rng||te)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=i[o];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(ie[t[e+0]]+ie[t[e+1]]+ie[t[e+2]]+ie[t[e+3]]+"-"+ie[t[e+4]]+ie[t[e+5]]+"-"+ie[t[e+6]]+ie[t[e+7]]+"-"+ie[t[e+8]]+ie[t[e+9]]+"-"+ie[t[e+10]]+ie[t[e+11]]+ie[t[e+12]]+ie[t[e+13]]+ie[t[e+14]]+ie[t[e+15]]).toLowerCase();if(!ne(n))throw TypeError("Stringified UUID is invalid");return n}(i)}var re,ae,ce="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},le={exports:{}};
/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */
re=le,ae=le.exports,function(t){var e=ae,n=re&&re.exports==e&&re,i="object"==typeof ce&&ce;i.global!==i&&i.window!==i||(t=i);var o=function(t){this.message=t};(o.prototype=new Error).name="InvalidCharacterError";var s=function(t){throw new o(t)},r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=/[\t\n\f\r ]/g,c={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&s("The string to be encoded contains characters outside of the Latin1 range.");for(var e,n,i,o,a=t.length%3,c="",l=-1,d=t.length-a;++l<d;)e=t.charCodeAt(l)<<16,n=t.charCodeAt(++l)<<8,i=t.charCodeAt(++l),c+=r.charAt((o=e+n+i)>>18&63)+r.charAt(o>>12&63)+r.charAt(o>>6&63)+r.charAt(63&o);return 2==a?(e=t.charCodeAt(l)<<8,n=t.charCodeAt(++l),c+=r.charAt((o=e+n)>>10)+r.charAt(o>>4&63)+r.charAt(o<<2&63)+"="):1==a&&(o=t.charCodeAt(l),c+=r.charAt(o>>2)+r.charAt(o<<4&63)+"=="),c},decode:function(t){var e=(t=String(t).replace(a,"")).length;e%4==0&&(e=(t=t.replace(/==?$/,"")).length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&s("Invalid character: the string to be decoded is not correctly encoded.");for(var n,i,o=0,c="",l=-1;++l<e;)i=r.indexOf(t.charAt(l)),n=o%4?64*n+i:i,o++%4&&(c+=String.fromCharCode(255&n>>(-2*o&6)));return c},version:"0.1.0"};if(e&&!e.nodeType)if(n)n.exports=c;else for(var l in c)c.hasOwnProperty(l)&&(e[l]=c[l]);else t.base64=c}(ce);function de(t,e,n,i,o=Date.now){const s=function(t){const e=t.split(".")[1];let n;try{n=JSON.parse(le.exports.decode(e))}catch(t){throw new Error("Error decoding Speechly token!")}return{appId:n.appId,projectId:n.projectId,deviceId:n.deviceId,configId:n.configId,scopes:n.scope.split(" "),issuer:n.iss,audience:n.aud,expiresAtMs:1e3*n.exp}}(t);return!(s.expiresAtMs-o()<36e5)&&(s.appId===n&&s.projectId===e&&s.deviceId===i)}const he=new Error("Microphone is not initialized"),ue=new Error("Current device does not support microphone API"),pe=new Error("Microphone consent is no given"),fe=new Error("AppId changed without project login");class ge{constructor(t,e,n,i=!1){this.initialized=!1,this.muted=!1,this.stats={maxSignalEnergy:0},this.handleAudio=t=>{this.muted||t.length>0&&this.apiClient.sendAudio(t)},this.isWebkit=t,this.apiClient=n,this.sampleRate=e,this.debug=i}initialize(t,e){var n;return Yt(this,void 0,void 0,(function*(){if(void 0===(null===(n=window.navigator)||void 0===n?void 0:n.mediaDevices))throw ue;this.audioContext=t,this.resampleRatio=this.audioContext.sampleRate/this.sampleRate;try{this.mediaStream=yield window.navigator.mediaDevices.getUserMedia(e)}catch(t){throw pe}if(this.audioTrack=this.mediaStream.getAudioTracks()[0],this.isWebkit||(yield this.audioContext.resume()),void 0!==window.AudioWorkletNode){const t=new Blob(["\n// Indices for the Control SAB.\nconst CONTROL = {\n  'WRITE_INDEX': 0,\n  'FRAMES_AVAILABLE': 1,\n  'LOCK': 2,\n};\n\nclass SpeechlyProcessor extends AudioWorkletProcessor {\n  constructor() {\n    super();\n\n    this._initialized = false;\n    this.debug = false;\n    this.port.onmessage = this._initialize.bind(this);\n  }\n\n  _initialize(event) {\n    this.controlSAB = new Int32Array(event.data.controlSAB);\n    this.dataSAB = new Float32Array(event.data.dataSAB);\n    this.debug = event.data.debug;\n    this.sharedBufferSize = this.dataSAB.length;\n    this.buffer = new Float32Array(0);\n    this._initialized = true;\n  }\n\n  _transferDataToSharedBuffer(data) {\n    this.controlSAB[CONTROL.LOCK] = 1\n    let inputWriteIndex = this.controlSAB[CONTROL.WRITE_INDEX]\n    if (this.controlSAB[CONTROL.FRAMES_AVAILABLE] > 0) {\n      if (inputWriteIndex + data.length > this.sharedBufferSize) {\n        // console.log('buffer overflow')\n        inputWriteIndex = 0\n      }\n    }\n    this.dataSAB.set(data, inputWriteIndex)\n    this.controlSAB[CONTROL.WRITE_INDEX] = inputWriteIndex + data.length\n    this.controlSAB[CONTROL.FRAMES_AVAILABLE] = inputWriteIndex + data.length\n    this.controlSAB[CONTROL.LOCK] = 0\n  }\n\n  _pushData(data) {\n    if (this.debug) {\n      const signalEnergy = getStandardDeviation(data)\n      this.port.postMessage({\n        type: 'STATS',\n        signalEnergy: signalEnergy\n      });\n    }\n\n    if (this.buffer.length > this.sharedBufferSize) {\n      const dataToTransfer = this.buffer.subarray(0, this.sharedBufferSize)\n      this._transferDataToSharedBuffer(dataToTransfer)\n      this.buffer = this.buffer.subarray(this.sharedBufferSize)\n    }\n    let concat = new Float32Array(this.buffer.length + data.length)\n    concat.set(this.buffer)\n    concat.set(data, this.buffer.length)\n    this.buffer = concat\n  }\n\n  process(inputs, outputs, parameters) {\n    const inputChannelData = inputs[0][0];\n      if (inputChannelData !== undefined) {\n        if (this.controlSAB && this.dataSAB) {\n          this._pushData(inputChannelData);\n        } else {\n          this.port.postMessage({\n            type: 'DATA',\n            frames: inputChannelData\n          });\n        }\n      }\n      \n      return true;\n  }\n}\n\nfunction getStandardDeviation(array) {\n  const n = array.length\n  const mean = array.reduce((a, b) => a + b) / n\n  return Math.sqrt(array.map(x => Math.pow(x - mean, 2)).reduce((a, b) => a + b) / n)\n}\n\nregisterProcessor('speechly-worklet', SpeechlyProcessor);\n"],{type:"text/javascript"}),e=window.URL.createObjectURL(t);yield this.audioContext.audioWorklet.addModule(e);const n=new AudioWorkletNode(this.audioContext,"speechly-worklet");if(this.audioContext.createMediaStreamSource(this.mediaStream).connect(n),n.connect(this.audioContext.destination),void 0!==window.SharedArrayBuffer){const t=new window.SharedArrayBuffer(4*Int32Array.BYTES_PER_ELEMENT),e=new window.SharedArrayBuffer(1024*Float32Array.BYTES_PER_ELEMENT);this.apiClient.postMessage({type:"SET_SHARED_ARRAY_BUFFERS",controlSAB:t,dataSAB:e}),n.port.postMessage({type:"SET_SHARED_ARRAY_BUFFERS",controlSAB:t,dataSAB:e,debug:this.debug})}else this.debug&&console.log("[SpeechlyClient]","can not use SharedArrayBuffer");n.port.onmessage=t=>{switch(t.data.type){case"STATS":t.data.signalEnergy>this.stats.maxSignalEnergy&&(this.stats.maxSignalEnergy=t.data.signalEnergy);break;case"DATA":this.handleAudio(t.data.frames)}}}else{if(this.debug&&console.log("[SpeechlyClient]","can not use AudioWorkletNode"),this.isWebkit){const t=4096*Math.pow(2,Math.ceil(Math.log(this.resampleRatio)/Math.log(2)));this.audioProcessor=this.audioContext.createScriptProcessor(t,1,1)}else this.audioProcessor=this.audioContext.createScriptProcessor(void 0,1,1);this.audioContext.createMediaStreamSource(this.mediaStream).connect(this.audioProcessor),this.audioProcessor.connect(this.audioContext.destination),this.audioProcessor.addEventListener("audioprocess",(t=>{this.handleAudio(t.inputBuffer.getChannelData(0))}))}this.initialized=!0,this.mute()}))}close(){return Yt(this,void 0,void 0,(function*(){if(this.mute(),!this.initialized)throw he;this.audioTrack.enabled=!1;if(this.mediaStream.getTracks().forEach((t=>t.stop())),null!=this.audioProcessor){this.audioProcessor.disconnect()}this.mediaStream=void 0,this.audioTrack=void 0,this.audioProcessor=void 0,this.initialized=!1}))}mute(){this.muted=!0}unmute(){this.muted=!1}printStats(){if(null!=this.audioTrack){const t=this.audioTrack.getSettings();console.log(this.audioTrack.label,this.audioTrack.readyState),console.log("channelCount",t.channelCount),console.log("latency",t.latency),console.log("autoGainControl",t.autoGainControl)}console.log("maxSignalEnergy",this.stats.maxSignalEnergy)}}var me;!function(t){t.Opened="WEBSOCKET_OPEN",t.Closed="WEBSOCKET_CLOSED",t.SourceSampleRateSetSuccess="SOURSE_SAMPLE_RATE_SET_SUCCESS",t.Started="started",t.Stopped="stopped",t.SegmentEnd="segment_end",t.Transcript="transcript",t.Entity="entity",t.Intent="intent",t.TentativeTranscript="tentative_transcript",t.TentativeEntities="tentative_entities",t.TentativeIntent="tentative_intent"}(me||(me={}));class ve{constructor(){this.startCbs=[],this.stopCbs=[],this.onResponseCb=()=>{},this.onCloseCb=()=>{},this.onWebsocketMessage=t=>{const e=t.data;switch(e.type){case me.Opened:null!=this.resolveInitialization&&this.resolveInitialization();break;case me.Closed:this.onCloseCb({code:t.data.code,reason:t.data.reason,wasClean:t.data.wasClean});break;case me.SourceSampleRateSetSuccess:null!=this.resolveSourceSampleRateSet&&this.resolveSourceSampleRateSet();break;case me.Started:this.startCbs.forEach((t=>{try{t(void 0,e.audio_context)}catch(t){console.error('[SpeechlyClient] Error while invoking "onStart" callback:',t)}})),this.startCbs.length=0;break;case me.Stopped:this.stopCbs.forEach((t=>{try{t(void 0,e.audio_context)}catch(t){console.error('[SpeechlyClient] Error while invoking "onStop" callback:',t)}})),this.stopCbs.length=0;break;default:this.onResponseCb(e)}};const t=new Blob(["/**\n * Known WebSocket response types.\n * @public\n */\nvar WebsocketResponseType;\n(function (WebsocketResponseType) {\n    WebsocketResponseType[\"Opened\"] = \"WEBSOCKET_OPEN\";\n    WebsocketResponseType[\"SourceSampleRateSetSuccess\"] = \"SOURSE_SAMPLE_RATE_SET_SUCCESS\";\n    WebsocketResponseType[\"Started\"] = \"started\";\n    WebsocketResponseType[\"Stopped\"] = \"stopped\";\n})(WebsocketResponseType || (WebsocketResponseType = {}));\nvar CONTROL = {\n    WRITE_INDEX: 0,\n    FRAMES_AVAILABLE: 1,\n    LOCK: 2\n};\nvar WebsocketClient = /** @class */ (function () {\n    function WebsocketClient(ctx) {\n        var _this = this;\n        this.isContextStarted = false;\n        this.isStartContextConfirmed = false;\n        this.shouldResendLastFramesSent = false;\n        this.buffer = new Float32Array(0);\n        this.lastFramesSent = new Int16Array(0); // to re-send after switch context\n        this.debug = false;\n        this.initialized = false;\n        // WebSocket's close handler, called e.g. when\n        // - normal close (code 1000)\n        // - network unreachable or unable to (re)connect (code 1006)\n        // List of CloseEvent.code values: https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent/code\n        this.onWebsocketClose = function (event) {\n            if (_this.debug) {\n                console.log('[SpeechlyClient]', 'onWebsocketClose');\n            }\n            _this.websocket.removeEventListener('open', _this.onWebsocketOpen);\n            _this.websocket.removeEventListener('message', _this.onWebsocketMessage);\n            _this.websocket.removeEventListener('error', _this.onWebsocketError);\n            _this.websocket.removeEventListener('close', _this.onWebsocketClose);\n            _this.websocket = undefined;\n            _this.workerCtx.postMessage({ type: 'WEBSOCKET_CLOSED', code: event.code, reason: event.reason, wasClean: event.wasClean });\n        };\n        this.onWebsocketOpen = function (_event) {\n            if (_this.debug) {\n                console.log('[SpeechlyClient]', 'websocket opened');\n            }\n            if (_this.isContextStarted && !_this.isStartContextConfirmed) {\n                _this.send(_this.outbox);\n            }\n            _this.workerCtx.postMessage({ type: 'WEBSOCKET_OPEN' });\n        };\n        this.onWebsocketError = function (_event) {\n            if (_this.debug) {\n                console.log('[SpeechlyClient]', 'websocket error');\n            }\n        };\n        this.onWebsocketMessage = function (event) {\n            var response;\n            try {\n                response = JSON.parse(event.data);\n            }\n            catch (e) {\n                console.error('[SpeechlyClient] Error parsing response from the server:', e);\n                return;\n            }\n            if (response.type === WebsocketResponseType.Started) {\n                _this.isStartContextConfirmed = true;\n                if (_this.shouldResendLastFramesSent) {\n                    _this.resendLastFrames();\n                    _this.shouldResendLastFramesSent = false;\n                }\n            }\n            _this.workerCtx.postMessage(response);\n        };\n        this.workerCtx = ctx;\n    }\n    WebsocketClient.prototype.init = function (apiUrl, authToken, targetSampleRate, debug) {\n        this.debug = debug;\n        if (this.debug) {\n            console.log('[SpeechlyClient]', 'initialize worker');\n        }\n        this.apiUrl = apiUrl;\n        this.authToken = authToken;\n        this.targetSampleRate = targetSampleRate;\n        this.initialized = true;\n        this.isContextStarted = false;\n        this.connect(0);\n    };\n    WebsocketClient.prototype.setSourceSampleRate = function (sourceSampleRate) {\n        this.sourceSampleRate = sourceSampleRate;\n        this.resampleRatio = this.sourceSampleRate / this.targetSampleRate;\n        if (this.debug) {\n            console.log('[SpeechlyClient]', 'resampleRatio', this.resampleRatio);\n        }\n        if (this.resampleRatio > 1) {\n            this.filter = generateFilter(this.sourceSampleRate, this.targetSampleRate, 127);\n        }\n        this.workerCtx.postMessage({ type: 'SOURSE_SAMPLE_RATE_SET_SUCCESS' });\n        if (isNaN(this.resampleRatio)) {\n            throw Error(\"resampleRatio is NaN source rate is \".concat(this.sourceSampleRate, \" and target rate is \").concat(this.targetSampleRate));\n        }\n    };\n    WebsocketClient.prototype.setSharedArrayBuffers = function (controlSAB, dataSAB) {\n        this.controlSAB = new Int32Array(controlSAB);\n        this.dataSAB = new Float32Array(dataSAB);\n        var audioHandleInterval = this.dataSAB.length / 32; // ms\n        if (this.debug) {\n            console.log('[SpeechlyClient]', 'Audio handle interval', audioHandleInterval, 'ms');\n        }\n        setInterval(this.sendAudioFromSAB.bind(this), audioHandleInterval);\n    };\n    WebsocketClient.prototype.connect = function (timeout) {\n        if (timeout === void 0) { timeout = 1000; }\n        if (this.debug) {\n            console.log('[SpeechlyClient]', 'connect in ', timeout / 1000, 'sec');\n        }\n        setTimeout(this.initializeWebsocket.bind(this), timeout);\n    };\n    WebsocketClient.prototype.initializeWebsocket = function () {\n        if (this.debug) {\n            console.log('[SpeechlyClient]', 'connecting to ', this.apiUrl);\n        }\n        this.websocket = new WebSocket(this.apiUrl, this.authToken);\n        this.websocket.addEventListener('open', this.onWebsocketOpen);\n        this.websocket.addEventListener('message', this.onWebsocketMessage);\n        this.websocket.addEventListener('error', this.onWebsocketError);\n        this.websocket.addEventListener('close', this.onWebsocketClose);\n    };\n    WebsocketClient.prototype.isOpen = function () {\n        return this.websocket !== undefined && this.websocket.readyState === this.websocket.OPEN;\n    };\n    WebsocketClient.prototype.resendLastFrames = function () {\n        if (this.lastFramesSent.length > 0) {\n            this.send(this.lastFramesSent);\n            this.lastFramesSent = new Int16Array(0);\n        }\n    };\n    WebsocketClient.prototype.sendAudio = function (audioChunk) {\n        if (!this.isContextStarted) {\n            return;\n        }\n        if (audioChunk.length > 0) {\n            if (this.resampleRatio > 1) {\n                // Downsampling\n                this.send(this.downsample(audioChunk));\n            }\n            else {\n                this.send(float32ToInt16(audioChunk));\n            }\n        }\n    };\n    WebsocketClient.prototype.sendAudioFromSAB = function () {\n        if (!this.isContextStarted) {\n            this.controlSAB[CONTROL.FRAMES_AVAILABLE] = 0;\n            this.controlSAB[CONTROL.WRITE_INDEX] = 0;\n            return;\n        }\n        if (this.controlSAB == undefined) {\n            return;\n        }\n        var framesAvailable = this.controlSAB[CONTROL.FRAMES_AVAILABLE];\n        var lock = this.controlSAB[CONTROL.LOCK];\n        if (lock == 0 && framesAvailable > 0) {\n            var data = this.dataSAB.subarray(0, framesAvailable);\n            this.controlSAB[CONTROL.FRAMES_AVAILABLE] = 0;\n            this.controlSAB[CONTROL.WRITE_INDEX] = 0;\n            if (data.length > 0) {\n                var frames_1;\n                if (this.resampleRatio > 1) {\n                    frames_1 = this.downsample(data);\n                }\n                else {\n                    frames_1 = float32ToInt16(data);\n                }\n                this.send(frames_1);\n                // 16000 per second, 1000 in 100 ms\n                // save last 250 ms\n                if (this.lastFramesSent.length > 1024 * 4) {\n                    this.lastFramesSent = frames_1;\n                }\n                else {\n                    var concat = new Int16Array(this.lastFramesSent.length + frames_1.length);\n                    concat.set(this.lastFramesSent);\n                    concat.set(frames_1, this.lastFramesSent.length);\n                    this.lastFramesSent = concat;\n                }\n            }\n        }\n    };\n    WebsocketClient.prototype.startContext = function (appId) {\n        if (this.isContextStarted) {\n            console.log('Cant start context: it has been already started');\n            return;\n        }\n        this.isContextStarted = true;\n        this.isStartContextConfirmed = false;\n        if (appId !== undefined) {\n            this.outbox = JSON.stringify({ event: 'start', appId: appId });\n        }\n        else {\n            this.outbox = JSON.stringify({ event: 'start' });\n        }\n        this.send(this.outbox);\n    };\n    WebsocketClient.prototype.stopContext = function () {\n        if (!this.websocket) {\n            throw Error('Cant start context: websocket is undefined');\n        }\n        if (!this.isContextStarted) {\n            console.log('Cant stop context: it is not started');\n            return;\n        }\n        this.isContextStarted = false;\n        this.isStartContextConfirmed = false;\n        var StopEventJSON = JSON.stringify({ event: 'stop' });\n        this.send(StopEventJSON);\n    };\n    WebsocketClient.prototype.switchContext = function (newAppId) {\n        if (!this.websocket) {\n            throw Error('Cant switch context: websocket is undefined');\n        }\n        if (!this.isContextStarted) {\n            console.log('Cant switch context: it is not started');\n            return;\n        }\n        if (newAppId == undefined) {\n            console.log('Cant switch context: new app id is undefined');\n            return;\n        }\n        this.isStartContextConfirmed = false;\n        var StopEventJSON = JSON.stringify({ event: 'stop' });\n        this.send(StopEventJSON);\n        this.shouldResendLastFramesSent = true;\n        this.send(JSON.stringify({ event: 'start', appId: newAppId }));\n    };\n    WebsocketClient.prototype.closeWebsocket = function (websocketCode, reason) {\n        if (websocketCode === void 0) { websocketCode = 1005; }\n        if (reason === void 0) { reason = \"No Status Received\"; }\n        if (this.debug) {\n            console.log('[SpeechlyClient]', 'Websocket closing');\n        }\n        if (!this.websocket) {\n            throw Error('Websocket is not open');\n        }\n        this.websocket.close(websocketCode, reason);\n    };\n    WebsocketClient.prototype.downsample = function (input) {\n        var inputBuffer = new Float32Array(this.buffer.length + input.length);\n        inputBuffer.set(this.buffer, 0);\n        inputBuffer.set(input, this.buffer.length);\n        var outputLength = Math.ceil((inputBuffer.length - this.filter.length) / this.resampleRatio);\n        var outputBuffer = new Int16Array(outputLength);\n        for (var i = 0; i < outputLength; i++) {\n            var offset = Math.round(this.resampleRatio * i);\n            var val = 0.0;\n            for (var j = 0; j < this.filter.length; j++) {\n                val += inputBuffer[offset + j] * this.filter[j];\n            }\n            outputBuffer[i] = val * (val < 0 ? 0x8000 : 0x7fff);\n        }\n        var remainingOffset = Math.round(this.resampleRatio * outputLength);\n        if (remainingOffset < inputBuffer.length) {\n            this.buffer = inputBuffer.subarray(remainingOffset);\n        }\n        else {\n            this.buffer = new Float32Array(0);\n        }\n        return outputBuffer;\n    };\n    WebsocketClient.prototype.send = function (data) {\n        if (this.isOpen()) {\n            try {\n                this.websocket.send(data);\n            }\n            catch (error) {\n                console.log('[SpeechlyClient]', 'Server connection error', error);\n            }\n        }\n    };\n    return WebsocketClient;\n}());\nvar ctx = self;\nvar websocketClient = new WebsocketClient(ctx);\nctx.onmessage = function (e) {\n    switch (e.data.type) {\n        case 'INIT':\n            websocketClient.init(e.data.apiUrl, e.data.authToken, e.data.targetSampleRate, e.data.debug);\n            break;\n        case 'SET_SOURSE_SAMPLE_RATE':\n            websocketClient.setSourceSampleRate(e.data.sourceSampleRate);\n            break;\n        case 'SET_SHARED_ARRAY_BUFFERS':\n            websocketClient.setSharedArrayBuffers(e.data.controlSAB, e.data.dataSAB);\n            break;\n        case 'CLOSE':\n            websocketClient.closeWebsocket(1000, \"Close requested by client\");\n            break;\n        case 'START_CONTEXT':\n            websocketClient.startContext(e.data.appId);\n            break;\n        case 'SWITCH_CONTEXT':\n            websocketClient.switchContext(e.data.appId);\n            break;\n        case 'STOP_CONTEXT':\n            websocketClient.stopContext();\n            break;\n        case 'AUDIO':\n            websocketClient.sendAudio(e.data.payload);\n            break;\n        default:\n            console.log('WORKER', e);\n    }\n};\nfunction float32ToInt16(buffer) {\n    var buf = new Int16Array(buffer.length);\n    for (var l = 0; l < buffer.length; l++) {\n        buf[l] = buffer[l] * (buffer[l] < 0 ? 0x8000 : 0x7fff);\n    }\n    return buf;\n}\nfunction generateFilter(sourceSampleRate, targetSampleRate, length) {\n    if (length % 2 === 0) {\n        throw Error('Filter length must be odd');\n    }\n    var cutoff = targetSampleRate / 2;\n    var filter = new Float32Array(length);\n    var sum = 0;\n    for (var i = 0; i < length; i++) {\n        var x = sinc(((2 * cutoff) / sourceSampleRate) * (i - (length - 1) / 2));\n        sum += x;\n        filter[i] = x;\n    }\n    for (var i = 0; i < length; i++) {\n        filter[i] = filter[i] / sum;\n    }\n    return filter;\n}\nfunction sinc(x) {\n    if (x === 0.0) {\n        return 1.0;\n    }\n    var piX = Math.PI * x;\n    return Math.sin(piX) / piX;\n}\n"],{type:"text/javascript"}),e=window.URL.createObjectURL(t);this.worker=new Worker(e),this.worker.addEventListener("message",this.onWebsocketMessage)}onResponse(t){this.onResponseCb=t}onClose(t){this.onCloseCb=t}initialize(t,e,n,i){return Yt(this,void 0,void 0,(function*(){return this.worker.postMessage({type:"INIT",apiUrl:t,authToken:e,targetSampleRate:n,debug:i}),this.startCbs=[],this.stopCbs=[],new Promise((t=>{this.resolveInitialization=t}))}))}setSourceSampleRate(t){return Yt(this,void 0,void 0,(function*(){return this.worker.postMessage({type:"SET_SOURSE_SAMPLE_RATE",sourceSampleRate:t}),new Promise((t=>{this.resolveSourceSampleRateSet=t}))}))}close(){return Yt(this,void 0,void 0,(function*(){return new Promise(((t,e)=>{this.worker.postMessage({type:"CLOSE",code:1e3,message:"Client has ended the session"}),t()}))}))}startContext(t){return Yt(this,void 0,void 0,(function*(){return new Promise(((e,n)=>{this.startCbs.push(((t,i)=>{void 0!==t?n(t):e(i)})),null!=t?this.worker.postMessage({type:"START_CONTEXT",appId:t}):this.worker.postMessage({type:"START_CONTEXT"})}))}))}stopContext(){return Yt(this,void 0,void 0,(function*(){return new Promise(((t,e)=>{this.stopCbs.push(((n,i)=>{void 0!==n?e(n):t(i)})),this.worker.postMessage({type:"STOP_CONTEXT"})}))}))}switchContext(t){return Yt(this,void 0,void 0,(function*(){return new Promise(((e,n)=>{this.startCbs.push(((t,i)=>{void 0!==t?n(t):e(i)})),this.worker.postMessage({type:"SWITCH_CONTEXT",appId:t})}))}))}postMessage(t){this.worker.postMessage(t)}sendAudio(t){this.worker.postMessage({type:"AUDIO",payload:t})}}class we{constructor(){this.storage=window.localStorage}get(t){return this.storage.getItem(t)}set(t,e){this.storage.setItem(t,e)}getOrSet(t,e){let n=this.storage.getItem(t);return null===n&&(n=e(),this.storage.setItem(t,n)),n}}class be{constructor(t,e){this.isFinalized=!1,this.words=[],this.entities=new Map,this.intent={intent:"",isFinal:!1},this.contextId=t,this.id=e}toSegment(){let t=0;const e=new Array(this.entities.size);return this.entities.forEach((n=>{e[t]=n,t++})),{id:this.id,contextId:this.contextId,isFinal:this.isFinalized,words:this.words,entities:e,intent:this.intent}}toString(){const t=this.toSegment(),e=t.words.filter((t=>t.value)).map((t=>({value:t.value,index:t.index}))),n=Object.assign(Object.assign({},t),{words:e});return JSON.stringify(n,null,2)}updateTranscript(t){return t.forEach((t=>{this.isFinalized&&!t.isFinal||(this.words[t.index]=t)})),this}updateEntities(t){return t.forEach((t=>{this.isFinalized&&!t.isFinal||this.entities.set(function(t){return`${t.startPosition.toString()}:${t.endPosition.toString()}`}(t),t)})),this}updateIntent(t){return this.isFinalized&&!t.isFinal||(this.intent=t),this}finalize(){return this.entities.forEach(((t,e)=>{t.isFinal||this.entities.delete(e)})),this.words=this.words.filter((t=>t.isFinal)),this.intent.isFinal||(this.intent.intent="",this.intent.isFinal=!0),this.isFinalized=!0,this}}function ye(t,e){return{intent:t.intent,isFinal:e}}const xe="speechly-auth-token";class Se{constructor(t){var e,n,i,o,s,r,a,c,l,d,h;this.listening=!1,this.activeContexts=new Map,this.maxReconnectAttemptCount=10,this.contextStopDelay=250,this.connectAttempt=0,this.connectPromise=null,this.initializePromise=null,this.listeningPromise=null,this.state=Xt.Disconnected,this.stateChangeCb=()=>{},this.segmentChangeCb=()=>{},this.tentativeTranscriptCb=()=>{},this.tentativeEntitiesCb=()=>{},this.tentativeIntentCb=()=>{},this.transcriptCb=()=>{},this.entityCb=()=>{},this.intentCb=()=>{},this.handleWebsocketResponse=t=>{var e;this.debug&&console.log("[SpeechlyClient]","Received response",t);const{audio_context:n,segment_id:i,type:o}=t;let{data:s}=t;const r=this.activeContexts.get(n);if(void 0===r)return void console.warn("[SpeechlyClient]","Received response for non-existent context",n);let a=null!==(e=r.get(i))&&void 0!==e?e:new be(n,i);switch(o){case me.TentativeTranscript:s=s;const t=function(t){return t.words.map((({word:t,index:e,start_timestamp:n,end_timestamp:i})=>({value:t,index:e,startTimestamp:n,endTimestamp:i,isFinal:!1})))}(s);this.tentativeTranscriptCb(n,i,t,s.transcript),a=a.updateTranscript(t);break;case me.Transcript:s=s;const e=function(t){return{value:t.word,index:t.index,startTimestamp:t.start_timestamp,endTimestamp:t.end_timestamp,isFinal:!0}}(s);this.transcriptCb(n,i,e),a=a.updateTranscript([e]);break;case me.TentativeEntities:s=s;const o=function(t){return t.entities.map((({entity:t,value:e,start_position:n,end_position:i})=>({type:t,value:e,startPosition:n,endPosition:i,isFinal:!1})))}(s);this.tentativeEntitiesCb(n,i,o),a=a.updateEntities(o);break;case me.Entity:s=s;const r=function(t){return{type:t.entity,value:t.value,startPosition:t.start_position,endPosition:t.end_position,isFinal:!0}}(s);this.entityCb(n,i,r),a=a.updateEntities([r]);break;case me.TentativeIntent:s=s;const c=ye(s,!1);this.tentativeIntentCb(n,i,c),a=a.updateIntent(c);break;case me.Intent:s=s;const l=ye(s,!0);this.intentCb(n,i,l),a=a.updateIntent(l);break;case me.SegmentEnd:a=a.finalize()}r.set(i,a),this.activeContexts.set(n,r),this.logSegments&&console.info(a.toString()),this.segmentChangeCb(a.toSegment())},this.handleWebsocketClosure=t=>{if(1e3===t.code)this.debug&&console.log("[SpeechlyClient]","Websocket closed",t);else{if(console.error("[SpeechlyClient]","Websocket closed due to error",t),void 0===this.deviceId)return void this.setState(Xt.Failed);this.listening=!1,this.listeningPromise=null,this.microphone.mute(),this.setState(Xt.Disconnected),this.reconnect()}},this.sampleRate=null!==(e=t.sampleRate)&&void 0!==e?e:16e3;try{const e=window.navigator.mediaDevices.getSupportedConstraints();this.nativeResamplingSupported=!0===e.sampleRate,null!=t.autoGainControl&&t.autoGainControl?this.autoGainControl=!0===e.autoGainControl:this.autoGainControl=!1}catch(t){this.nativeResamplingSupported=!1,this.autoGainControl=!1}if(this.debug=null!==(n=t.debug)&&void 0!==n&&n,this.logSegments=null!==(i=t.logSegments)&&void 0!==i&&i,this.loginUrl=null!==(o=t.loginUrl)&&void 0!==o?o:"https://api.speechly.com/login",this.appId=null!==(s=t.appId)&&void 0!==s?s:void 0,this.projectId=null!==(r=t.projectId)&&void 0!==r?r:void 0,this.apiClient=null!==(a=t.apiClient)&&void 0!==a?a:new ve,this.apiUrl=function(t,e){const n=new URLSearchParams;return n.append("sampleRate",e.toString()),`${t}?${n.toString()}`}(null!==(c=t.apiUrl)&&void 0!==c?c:"wss://api.speechly.com/ws/v1",null!==(l=t.sampleRate)&&void 0!==l?l:16e3),void 0!==this.appId&&void 0!==this.projectId)throw Error("[SpeechlyClient] You cannot use both appId and projectId at the same time");if(this.storage=null!==(d=t.storage)&&void 0!==d?d:new we,this.deviceId=this.storage.getOrSet("speechly-device-id",se),void 0!==window.AudioContext)this.isWebkit=!1;else{if(void 0===window.webkitAudioContext)throw ue;this.isWebkit=!0}this.microphone=null!==(h=t.microphone)&&void 0!==h?h:new ge(this.isWebkit,this.sampleRate,this.apiClient,this.debug),this.apiClient.onResponse(this.handleWebsocketResponse),this.apiClient.onClose(this.handleWebsocketClosure),window.SpeechlyClient=this,!1!==t.connect&&this.connect()}getReconnectDelayMs(t){return 100*Math.pow(2,t)}sleep(t){return Yt(this,void 0,void 0,(function*(){return new Promise((e=>setTimeout(e,t)))}))}isListening(){return this.listening}connect(){return Yt(this,void 0,void 0,(function*(){null===this.connectPromise&&(this.connectPromise=(()=>Yt(this,void 0,void 0,(function*(){this.advanceState(Xt.Connecting);const t=this.storage.get(xe);if(null!=t&&de(t,this.projectId,this.appId,this.deviceId))this.authToken=t;else try{this.authToken=yield function(t,e,n,i,o=fetch,s=Date.now){var r;return Yt(this,void 0,void 0,(function*(){let a;a=void 0!==e?{projectId:e,deviceId:i}:{appId:n,deviceId:i};const c=yield o(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),l=yield c.json();if(200!==c.status)throw Error(null!==(r=l.error)&&void 0!==r?r:`Speechly API login request failed with ${c.status}`);if(void 0===l.access_token)throw Error("Invalid login response from Speechly API");if(!de(l.access_token,e,n,i,s))throw Error("Invalid token received from Speechly API");return l.access_token}))}(this.loginUrl,this.projectId,this.appId,this.deviceId),this.storage.set(xe,this.authToken)}catch(t){throw this.setState(Xt.Failed),t}try{yield this.apiClient.initialize(this.apiUrl,this.authToken,this.sampleRate,this.debug)}catch(t){throw this.setState(Xt.Failed),t}})))()),yield this.connectPromise,this.advanceState(Xt.Preinitialized)}))}initialize(){return Yt(this,void 0,void 0,(function*(){null===this.initializePromise&&(this.initializePromise=(()=>Yt(this,void 0,void 0,(function*(){yield this.connect(),this.advanceState(Xt.Initializing);try{if(this.isWebkit)void 0!==window.webkitAudioContext&&(this.audioContext=new window.webkitAudioContext);else{const t={};this.nativeResamplingSupported&&(t.sampleRate=this.sampleRate),this.audioContext=new window.AudioContext(t)}const t={video:!1};if(this.nativeResamplingSupported||this.autoGainControl?t.audio={sampleRate:this.sampleRate,autoGainControl:this.autoGainControl}:t.audio=!0,null==this.audioContext)throw ue;this.isWebkit&&(yield this.audioContext.resume()),yield this.apiClient.setSourceSampleRate(this.audioContext.sampleRate),yield this.microphone.initialize(this.audioContext,t),this.advanceState(Xt.Connected)}catch(t){switch(t){case ue:this.setState(Xt.NoBrowserSupport);break;case pe:this.setState(Xt.NoAudioConsent);break;default:this.setState(Xt.Failed)}throw t}})))()),yield this.initializePromise,this.advanceState(Xt.Connected)}))}close(){return Yt(this,void 0,void 0,(function*(){const t=[];try{yield this.microphone.close()}catch(e){t.push(e.message)}try{yield this.apiClient.close()}catch(e){t.push(e.message)}if(this.activeContexts.clear(),this.connectPromise=null,this.initializePromise=null,this.setState(Xt.Disconnected),t.length>0)throw Error(t.join(","))}))}hasUnrecoverableError(){return this.state<Xt.__UnrecoverableErrors}queueTask(t){return Yt(this,void 0,void 0,(function*(){const e=this.listeningPromise;return this.listeningPromise=(()=>Yt(this,void 0,void 0,(function*(){return yield e,t()})))(),this.listeningPromise}))}startContext(t){return Yt(this,void 0,void 0,(function*(){if(!this.hasUnrecoverableError()){if(this.listening)throw Error("Already listening");this.listening=!0;return yield this.queueTask((()=>Yt(this,void 0,void 0,(function*(){if(this.state<Xt.Connected&&(yield this.initialize()),this.state!==Xt.Connected)throw Error("[SpeechlyClient] Unable to complete startContext: Expected Connected state, but was in "+qt(this.state)+". Did you call startContext multiple times without stopContext?");let e;if(this.setState(Xt.Starting),this.microphone.unmute(),null!=this.projectId)e=yield this.apiClient.startContext(t);else{if(null!=t&&this.appId!==t)throw this.setState(Xt.Failed),fe;e=yield this.apiClient.startContext()}if(this.state!==Xt.Starting)throw Error("[SpeechlyClient] Unable to complete startContext: Problem acquiring contextId");return this.activeContexts.set(e,new Map),this.setState(Xt.Recording),e}))))}throw Error("[SpeechlyClient] startContext cannot be run in unrecovable error state.")}))}stopContext(){return Yt(this,void 0,void 0,(function*(){if(!this.hasUnrecoverableError()){if(!this.listening)throw Error("Already stopped listening");this.listening=!1;return yield this.queueTask((()=>Yt(this,void 0,void 0,(function*(){if(this.state!==Xt.Recording)throw Error("[SpeechlyClient] Unable to complete stopContext: Expected Recording state, but was in "+qt(this.state)+".");this.setState(Xt.Stopping),yield this.sleep(this.contextStopDelay),this.microphone.mute();try{const t=yield this.apiClient.stopContext();return this.activeContexts.delete(t),this.setState(Xt.Connected),t}catch(t){throw this.setState(Xt.Failed),t}}))))}throw Error("[SpeechlyClient] stopContext cannot be run in unrecovable error state.")}))}switchContext(t){return Yt(this,void 0,void 0,(function*(){yield this.queueTask((()=>Yt(this,void 0,void 0,(function*(){if(this.state!==Xt.Recording)throw Error("[SpeechlyClient] Unable to complete switchContext: Expected Recording state, but was in "+qt(this.state)+".");const e=yield this.apiClient.switchContext(t);this.activeContexts.set(e,new Map)}))))}))}onStateChange(t){this.stateChangeCb=t}onSegmentChange(t){this.segmentChangeCb=t}onTentativeTranscript(t){this.tentativeTranscriptCb=t}onTranscript(t){this.transcriptCb=t}onTentativeEntities(t){this.tentativeEntitiesCb=t}onEntity(t){this.entityCb=t}onTentativeIntent(t){this.tentativeIntentCb=t}onIntent(t){this.intentCb=t}reconnect(){return Yt(this,void 0,void 0,(function*(){this.debug&&console.log("[SpeechlyClient]","Reconnecting...",this.connectAttempt),this.connectPromise=null,!this.hasUnrecoverableError()&&this.connectAttempt<this.maxReconnectAttemptCount?(yield this.sleep(this.getReconnectDelayMs(this.connectAttempt++)),yield this.connect()):console.error("[SpeechlyClient] Maximum reconnect count reached, giving up automatic reconnect.")}))}advanceState(t){this.state>=t||this.setState(t)}setState(t){this.state!==t&&(this.debug&&console.log("[SpeechlyClient]",qt(this.state),"->",qt(t)),this.state=t,this.stateChangeCb(t))}printStats(){this.microphone.printStats()}sendAudioData(t){return Yt(this,void 0,void 0,(function*(){const e=yield this.audioContext.decodeAudioData(t),n=e.getChannelData(0);if(e.numberOfChannels>1){const t=e.getChannelData(1);for(let e=0;e<n.length;e++)n[e]=(n[e]+t[e])/2}this.listening=!0,this.setState(Xt.Starting);const i=yield this.apiClient.startContext();let o;this.activeContexts.set(i,new Map),this.setState(Xt.Recording);for(let t=0;t<n.length;t+=16e3){const e=t+16e3;o=e>n.length?n.slice(t):n.slice(t,e),this.apiClient.sendAudio(o)}this.listening=!1,this.setState(Xt.Stopping),yield this.apiClient.stopContext(),this.activeContexts.delete(i),this.setState(Xt.Connected)}))}}const{document:Ce,window:$e}=st;function ke(t){let e;return{c(){e=x("link"),A(e,"href","https://fonts.googleapis.com/css2?family=Saira+Condensed:wght@700&display=swap"),A(e,"rel","stylesheet")},m(t,n){b(t,e,n)},d(t){t&&y(e)}}}function Ee(e){let n,i,s,r,a,c,l,d,h=e[25]&&ke();return{c(){h&&h.c(),n=k(),i=$(),s=x("holdable-button"),r=x("call-out"),a=C(e[24]),this.c=t,R(r,"width",e[7]),R(r,"xalign",e[6]),R(r,"show",c=""!==e[24]&&e[22]&&!e[1]?"true":"false"),R(r,"showtime",e[5]),R(r,"backgroundcolor",e[16]),T(r,"defaultTypography",e[25]),R(s,"size",e[3]),R(s,"icon",e[23]),R(s,"capturekey",e[0]),R(s,"gradientstop1",e[10]),R(s,"gradientstop2",e[11]),R(s,"fxgradientstop1",e[12]),R(s,"fxgradientstop2",e[13]),R(s,"hide",e[1]),R(s,"backgroundcolor",e[8]),R(s,"iconcolor",e[9]),R(s,"holdscale",e[17]),R(s,"borderscale",e[18]),R(s,"iconsize",e[19]),R(s,"fxsize",e[20]),R(s,"customcssurl",e[21]),_(s,"--voffset",e[4]),_(s,"--size",e[3]),_(s,"--textcolor",e[15]),_(s,"--fontsize",e[14]),T(s,"placementBottom","bottom"===e[2])},m(t,o){h&&h.m(Ce.head,null),g(Ce.head,n),b(t,i,o),b(t,s,o),g(s,r),g(r,a),l||(d=[E($e,"message",e[28]),E(s,"holdstart",e[26]),E(s,"holdend",e[27])],l=!0)},p(t,e){t[25]?h||(h=ke(),h.c(),h.m(n.parentNode,n)):h&&(h.d(1),h=null),16777216&e[0]&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(a,t[24]),128&e[0]&&R(r,"width",t[7]),64&e[0]&&R(r,"xalign",t[6]),20971522&e[0]&&c!==(c=""!==t[24]&&t[22]&&!t[1]?"true":"false")&&R(r,"show",c),32&e[0]&&R(r,"showtime",t[5]),65536&e[0]&&R(r,"backgroundcolor",t[16]),33554432&e[0]&&T(r,"defaultTypography",t[25]),8&e[0]&&R(s,"size",t[3]),8388608&e[0]&&R(s,"icon",t[23]),1&e[0]&&R(s,"capturekey",t[0]),1024&e[0]&&R(s,"gradientstop1",t[10]),2048&e[0]&&R(s,"gradientstop2",t[11]),4096&e[0]&&R(s,"fxgradientstop1",t[12]),8192&e[0]&&R(s,"fxgradientstop2",t[13]),2&e[0]&&R(s,"hide",t[1]),256&e[0]&&R(s,"backgroundcolor",t[8]),512&e[0]&&R(s,"iconcolor",t[9]),131072&e[0]&&R(s,"holdscale",t[17]),262144&e[0]&&R(s,"borderscale",t[18]),524288&e[0]&&R(s,"iconsize",t[19]),1048576&e[0]&&R(s,"fxsize",t[20]),2097152&e[0]&&R(s,"customcssurl",t[21]),16&e[0]&&_(s,"--voffset",t[4]),8&e[0]&&_(s,"--size",t[3]),32768&e[0]&&_(s,"--textcolor",t[15]),16384&e[0]&&_(s,"--fontsize",t[14]),4&e[0]&&T(s,"placementBottom","bottom"===t[2])},i:t,o:t,d(t){h&&h.d(t),y(n),t&&y(i),t&&y(s),l=!1,o(d)}}}function Ae(t,e,n){let i,o;var s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(o,s){function r(t){try{c(i.next(t))}catch(t){s(t)}}function a(t){try{c(i.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}c((i=i.apply(t,e||[])).next())}))};const r=(()=>{const t=L();return(e,n)=>{t.dispatchEvent(new CustomEvent(e,{detail:n,composed:!0}))}})();let a,c,{projectid:l}=e,{appid:d}=e,{loginurl:h}=e,{apiurl:u}=e,{capturekey:p=" "}=e,{poweron:f="auto"}=e,{hide:g}=e,{taptotalktime:m=8e3}=e,{silencetohanguptime:v=1e3}=e,{placement:w}=e,{size:b="80px"}=e,{voffset:y="40px"}=e,{intro:x="Hold to talk"}=e,{hint:S="Hold to talk"}=e,{showtime:C=1e4}=e,{hintxalign:$="50%"}=e,{hintwidth:k="auto"}=e,{backgroundcolor:E="#ffffff"}=e,{iconcolor:A="#000000"}=e,{gradientstop1:R="#15e8b5"}=e,{gradientstop2:_="#4fa1f9"}=e,{fxgradientstop1:T}=e,{fxgradientstop2:z}=e,{fontsize:I="1.0rem"}=e,{textcolor:O="#ffffff"}=e,{hintbackgroundcolor:B="#202020"}=e,{holdscale:M="1.35"}=e,{borderscale:F="0.075"}=e,{iconsize:W="60%"}=e,{fxsize:D="250%"}=e,{customcssurl:P}=e,{customtypography:U}=e,j=!1,V=!1,H=!1,G=!1,X=!1,q=null,J=null,K=vt.Disconnected,Y=null;N((()=>{switch(X=!0,f){case"true":j=!0;break;case"auto":j=null!==document.querySelector("intro-popup")&&null===localStorage.getItem(wt.SpeechlyFirstConnect)}Z(l,d)}));const Z=(t,e)=>{if(X&&!Y&&(t||e)){const i=Object.assign(Object.assign(Object.assign(Object.assign({connect:!1},e&&!t&&{appId:e}),t&&{projectId:t}),h&&{loginUrl:h}),u&&{apiUrl:u});Y=new Se(i),Y.onStateChange(it),Y.onSegmentChange((t=>{q&&Q(v),r(bt.speechsegment,t),window.postMessage({type:bt.speechsegment,segment:t},"*")})),Y.connect(),n(22,G=!0)}},Q=t=>{q&&window.clearTimeout(q),q=window.setTimeout((()=>{q=null,tt()}),t)},tt=()=>{Y&&(Y.stopContext(),r("stopcontext")),et()},et=()=>{null!==c&&n(23,K=c)},nt=t=>!t||t===vt.Disconnected,it=t=>{switch(c=t,et(),t){case vt.Failed:case vt.NoBrowserSupport:case vt.NoAudioConsent:ot(!1);break;case vt.Connected:ot(!0)}window.postMessage({type:bt.speechstate,state:t},"*")},ot=(t,e)=>{void 0===a&&(a=t,j=!1,null===localStorage.getItem(wt.SpeechlyFirstConnect)&&t&&localStorage.setItem(wt.SpeechlyFirstConnect,String(Date.now())))};return t.$$set=t=>{"projectid"in t&&n(29,l=t.projectid),"appid"in t&&n(30,d=t.appid),"loginurl"in t&&n(31,h=t.loginurl),"apiurl"in t&&n(32,u=t.apiurl),"capturekey"in t&&n(0,p=t.capturekey),"poweron"in t&&n(33,f=t.poweron),"hide"in t&&n(1,g=t.hide),"taptotalktime"in t&&n(34,m=t.taptotalktime),"silencetohanguptime"in t&&n(35,v=t.silencetohanguptime),"placement"in t&&n(2,w=t.placement),"size"in t&&n(3,b=t.size),"voffset"in t&&n(4,y=t.voffset),"intro"in t&&n(36,x=t.intro),"hint"in t&&n(37,S=t.hint),"showtime"in t&&n(5,C=t.showtime),"hintxalign"in t&&n(6,$=t.hintxalign),"hintwidth"in t&&n(7,k=t.hintwidth),"backgroundcolor"in t&&n(8,E=t.backgroundcolor),"iconcolor"in t&&n(9,A=t.iconcolor),"gradientstop1"in t&&n(10,R=t.gradientstop1),"gradientstop2"in t&&n(11,_=t.gradientstop2),"fxgradientstop1"in t&&n(12,T=t.fxgradientstop1),"fxgradientstop2"in t&&n(13,z=t.fxgradientstop2),"fontsize"in t&&n(14,I=t.fontsize),"textcolor"in t&&n(15,O=t.textcolor),"hintbackgroundcolor"in t&&n(16,B=t.hintbackgroundcolor),"holdscale"in t&&n(17,M=t.holdscale),"borderscale"in t&&n(18,F=t.borderscale),"iconsize"in t&&n(19,W=t.iconsize),"fxsize"in t&&n(20,D=t.fxsize),"customcssurl"in t&&n(21,P=t.customcssurl),"customtypography"in t&&n(38,U=t.customtypography)},t.$$.update=()=>{32&t.$$.dirty[1]&&n(24,i=x),1610612736&t.$$.dirty[0]&&Z(l,d),128&t.$$.dirty[1]&&n(25,o=void 0===U||"false"===U)},[p,g,w,b,y,C,$,k,E,A,R,_,T,z,I,O,B,M,F,W,D,P,G,K,i,o,t=>s(void 0,void 0,void 0,(function*(){J=s(void 0,void 0,void 0,(function*(){if(n(22,G=!1),q&&(window.clearTimeout(q),q=null),Y){if(j)window.postMessage({type:bt.speechlypoweron},"*");else if(nt(c))if(d||l){const t=Date.now();yield s(void 0,void 0,void 0,(function*(){try{yield Y.initialize()}catch(t){console.error("Speechly initialization failed",t),Y=null}})),V=Date.now()-t<1500}else console.warn("No appid/projectid attribute specified. Speechly voice services are unavailable.");else V=!0;V&&(H=Y.isListening(),Y.isListening()||(r("startcontext"),Y.startContext(d)))}window.postMessage({type:bt.holdstart,state:c},"*")}))})),t=>s(void 0,void 0,void 0,(function*(){if(yield J,Y&&V){V=!1;t.detail.timeMs<600?0==m?(tt(),n(24,i=S),n(22,G=!0)):H?tt():Q(m):tt()}window.postMessage({type:"holdend"},"*")})),t=>{switch(t.data.type){case bt.showhint:n(24,i=t.data.hint),n(22,G=!0);break;case bt.speechlyintroready:"auto"===f&&(j=null===localStorage.getItem(wt.SpeechlyFirstConnect))}},l,d,h,u,f,m,v,x,S,U]}class Re extends ht{constructor(t){super(),this.shadowRoot.innerHTML="<style>.placementBottom{position:fixed;bottom:0;left:0;right:0;height:calc(var(--size) + var(--voffset));max-height:100vh;pointer-events:none;display:flex;flex-direction:row;justify-content:center;z-index:50}call-out.defaultTypography{font-family:'Saira Condensed', sans-serif;color:var(--textcolor);font-size:var(--fontsize);line-height:120%;text-transform:uppercase}</style>",dt(this,{target:this.shadowRoot,props:z(this.attributes),customElement:!0},Ae,Ee,a,{projectid:29,appid:30,loginurl:31,apiurl:32,capturekey:0,poweron:33,hide:1,taptotalktime:34,silencetohanguptime:35,placement:2,size:3,voffset:4,intro:36,hint:37,showtime:5,hintxalign:6,hintwidth:7,backgroundcolor:8,iconcolor:9,gradientstop1:10,gradientstop2:11,fxgradientstop1:12,fxgradientstop2:13,fontsize:14,textcolor:15,hintbackgroundcolor:16,holdscale:17,borderscale:18,iconsize:19,fxsize:20,customcssurl:21,customtypography:38},null,[-1,-1]),t&&(t.target&&b(t.target,this,t.anchor),t.props&&(this.$set(t.props),J()))}static get observedAttributes(){return["projectid","appid","loginurl","apiurl","capturekey","poweron","hide","taptotalktime","silencetohanguptime","placement","size","voffset","intro","hint","showtime","hintxalign","hintwidth","backgroundcolor","iconcolor","gradientstop1","gradientstop2","fxgradientstop1","fxgradientstop2","fontsize","textcolor","hintbackgroundcolor","holdscale","borderscale","iconsize","fxsize","customcssurl","customtypography"]}get projectid(){return this.$$.ctx[29]}set projectid(t){this.$$set({projectid:t}),J()}get appid(){return this.$$.ctx[30]}set appid(t){this.$$set({appid:t}),J()}get loginurl(){return this.$$.ctx[31]}set loginurl(t){this.$$set({loginurl:t}),J()}get apiurl(){return this.$$.ctx[32]}set apiurl(t){this.$$set({apiurl:t}),J()}get capturekey(){return this.$$.ctx[0]}set capturekey(t){this.$$set({capturekey:t}),J()}get poweron(){return this.$$.ctx[33]}set poweron(t){this.$$set({poweron:t}),J()}get hide(){return this.$$.ctx[1]}set hide(t){this.$$set({hide:t}),J()}get taptotalktime(){return this.$$.ctx[34]}set taptotalktime(t){this.$$set({taptotalktime:t}),J()}get silencetohanguptime(){return this.$$.ctx[35]}set silencetohanguptime(t){this.$$set({silencetohanguptime:t}),J()}get placement(){return this.$$.ctx[2]}set placement(t){this.$$set({placement:t}),J()}get size(){return this.$$.ctx[3]}set size(t){this.$$set({size:t}),J()}get voffset(){return this.$$.ctx[4]}set voffset(t){this.$$set({voffset:t}),J()}get intro(){return this.$$.ctx[36]}set intro(t){this.$$set({intro:t}),J()}get hint(){return this.$$.ctx[37]}set hint(t){this.$$set({hint:t}),J()}get showtime(){return this.$$.ctx[5]}set showtime(t){this.$$set({showtime:t}),J()}get hintxalign(){return this.$$.ctx[6]}set hintxalign(t){this.$$set({hintxalign:t}),J()}get hintwidth(){return this.$$.ctx[7]}set hintwidth(t){this.$$set({hintwidth:t}),J()}get backgroundcolor(){return this.$$.ctx[8]}set backgroundcolor(t){this.$$set({backgroundcolor:t}),J()}get iconcolor(){return this.$$.ctx[9]}set iconcolor(t){this.$$set({iconcolor:t}),J()}get gradientstop1(){return this.$$.ctx[10]}set gradientstop1(t){this.$$set({gradientstop1:t}),J()}get gradientstop2(){return this.$$.ctx[11]}set gradientstop2(t){this.$$set({gradientstop2:t}),J()}get fxgradientstop1(){return this.$$.ctx[12]}set fxgradientstop1(t){this.$$set({fxgradientstop1:t}),J()}get fxgradientstop2(){return this.$$.ctx[13]}set fxgradientstop2(t){this.$$set({fxgradientstop2:t}),J()}get fontsize(){return this.$$.ctx[14]}set fontsize(t){this.$$set({fontsize:t}),J()}get textcolor(){return this.$$.ctx[15]}set textcolor(t){this.$$set({textcolor:t}),J()}get hintbackgroundcolor(){return this.$$.ctx[16]}set hintbackgroundcolor(t){this.$$set({hintbackgroundcolor:t}),J()}get holdscale(){return this.$$.ctx[17]}set holdscale(t){this.$$set({holdscale:t}),J()}get borderscale(){return this.$$.ctx[18]}set borderscale(t){this.$$set({borderscale:t}),J()}get iconsize(){return this.$$.ctx[19]}set iconsize(t){this.$$set({iconsize:t}),J()}get fxsize(){return this.$$.ctx[20]}set fxsize(t){this.$$set({fxsize:t}),J()}get customcssurl(){return this.$$.ctx[21]}set customcssurl(t){this.$$set({customcssurl:t}),J()}get customtypography(){return this.$$.ctx[38]}set customtypography(t){this.$$set({customtypography:t}),J()}}customElements.get("push-to-talk-button")?console.warn("Skipping re-defining customElement push-to-talk-button"):customElements.define("push-to-talk-button",Re)}));
//# sourceMappingURL=push-to-talk-button.js.map
