!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function o(){return Object.create(null)}function i(t){t.forEach(n)}function r(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e}function l(t){return 0===Object.keys(t).length}const a="undefined"!=typeof window;let u=a?()=>window.performance.now():()=>Date.now(),d=a?t=>requestAnimationFrame(t):t;const p=new Set;function h(t){p.forEach((e=>{e.c(t)||(p.delete(e),e.f())})),0!==p.size&&d(h)}function f(t,e){t.appendChild(e)}function m(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function g(t,e){f(t.head||t,e)}function y(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode.removeChild(t)}function w(t){return document.createElement(t)}function v(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function $(t){return document.createTextNode(t)}function x(){return $(" ")}function k(){return $("")}function _(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function z(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function C(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function E(t,e,n){t.classList[n?"add":"remove"](e)}function S(t){const e={};for(const n of t)e[n.name]=n.value;return e}const N=new Set;let M,T=0;function A(t,e,n,o,i,r,s,c=0){const l=16.666/o;let a="{\n";for(let t=0;t<=1;t+=l){const o=e+(n-e)*r(t);a+=100*t+`%{${s(o,1-o)}}\n`}const u=a+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${c}`,p=m(t);N.add(p);const h=p.__svelte_stylesheet||(p.__svelte_stylesheet=function(t){const e=w("style");return g(m(t),e),e}(t).sheet),f=p.__svelte_rules||(p.__svelte_rules={});f[d]||(f[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const y=t.style.animation||"";return t.style.animation=`${y?`${y}, `:""}${d} ${o}ms linear ${i}ms 1 both`,T+=1,d}function L(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-o.length;i&&(t.style.animation=o.join(", "),T-=i,T||d((()=>{T||(N.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),N.clear())})))}function D(t){M=t}function I(){if(!M)throw new Error("Function called outside component initialization");return M}const P=[],B=[],R=[],O=[],F=Promise.resolve();let H=!1;function V(t){R.push(t)}let j=!1;const q=new Set;function U(){if(!j){j=!0;do{for(let t=0;t<P.length;t+=1){const e=P[t];D(e),G(e.$$)}for(D(null),P.length=0;B.length;)B.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];q.has(e)||(q.add(e),e())}R.length=0}while(P.length);for(;O.length;)O.pop()();H=!1,j=!1,q.clear()}}function G(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(V)}}let W;function J(t,e,n){t.dispatchEvent(function(t,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,!1,e),o}(`${e?"intro":"outro"}${n}`))}const K=new Set;let Q;function X(){Q={r:0,c:[],p:Q}}function Y(){Q.r||i(Q.c),Q=Q.p}function Z(t,e){t&&t.i&&(K.delete(t),t.i(e))}function tt(t,e,n,o){if(t&&t.o){if(K.has(t))return;K.add(t),Q.c.push((()=>{K.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const et={duration:0};function nt(n,o,s,c){let l=o(n,s),a=c?0:1,f=null,m=null,g=null;function y(){g&&L(n,g)}function b(t,e){const n=t.b-a;return e*=Math.abs(n),{a:a,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function w(o){const{delay:r=0,duration:s=300,easing:c=e,tick:w=t,css:v}=l||et,$={start:u()+r,b:o};o||($.group=Q,Q.r+=1),f||m?m=$:(v&&(y(),g=A(n,a,o,s,r,c,v)),o&&w(0,1),f=b($,s),V((()=>J(n,o,"start"))),function(t){let e;0===p.size&&d(h),new Promise((n=>{p.add(e={c:t,f:n})}))}((t=>{if(m&&t>m.start&&(f=b(m,s),m=null,J(n,f.b,"start"),v&&(y(),g=A(n,a,f.b,f.duration,0,c,l.css))),f)if(t>=f.end)w(a=f.b,1-a),J(n,f.b,"end"),m||(f.b?y():--f.group.r||i(f.group.c)),f=null;else if(t>=f.start){const e=t-f.start;a=f.a+f.d*c(e/f.duration),w(a,1-a)}return!(!f&&!m)})))}return{run(t){r(l)?(W||(W=Promise.resolve(),W.then((()=>{W=null}))),W).then((()=>{l=l(),w(t)})):w(t)},end(){y(),f=m=null}}}const ot="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function it(t,e,o,s){const{fragment:c,on_mount:l,on_destroy:a,after_update:u}=t.$$;c&&c.m(e,o),s||V((()=>{const e=l.map(n).filter(r);a?a.push(...e):i(e),t.$$.on_mount=[]})),u.forEach(V)}function rt(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function st(t,e){-1===t.$$.dirty[0]&&(P.push(t),H||(H=!0,F.then(U)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ct(e,n,r,s,c,l,a,u=[-1]){const d=M;D(e);const p=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:c,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};a&&a(p.root);let h=!1;if(p.ctx=r?r(e,n.props||{},((t,n,...o)=>{const i=o.length?o[0]:n;return p.ctx&&c(p.ctx[t],p.ctx[t]=i)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](i),h&&st(e,t)),n})):[],p.update(),h=!0,i(p.before_update),p.fragment=!!s&&s(p.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);p.fragment&&p.fragment.l(t),t.forEach(b)}else p.fragment&&p.fragment.c();n.intro&&Z(e.$$.fragment),it(e,n.target,n.anchor,n.customElement),U()}D(d)}let lt;"function"==typeof HTMLElement&&(lt=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(n).filter(r);for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){i(this.$$.on_disconnect)}$destroy(){rt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!l(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});function at(t,{delay:n=0,duration:o=400,easing:i=e}={}){const r=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:i,css:t=>"opacity: "+t*r}}var ut,dt,pt,ht,ft,mt,gt;function yt(t){!function(t,e,n){const o=m(t);if(!o.getElementById(e)){const t=w("style");t.id=e,t.textContent=n,g(o,t)}}(t,"svelte-s2u2hd",".Icon.svelte-s2u2hd{position:absolute;width:var(--icon-size);height:var(--icon-size);top:50%;left:50%;transform:translate(-50%, -50%);pointer-events:none;transition:0.25s;opacity:var(--icon-opacity)}")}function bt(t){let e,n,o,i,r,s,c,l,a,u,d,p,h;return{c(){e=v("svg"),n=v("linearGradient"),o=v("animate"),i=v("animate"),r=v("stop"),s=v("stop"),c=v("stop"),l=v("stop"),a=v("stop"),u=$(">\n  "),d=v("g"),p=v("path"),h=v("rect"),z(o,"attributeName","y1"),z(o,"values","-200%; 0%;"),z(o,"dur","2s"),z(o,"repeatCount","indefinite"),z(i,"attributeName","y2"),z(i,"values","200%; 400%;"),z(i,"dur","2s"),z(i,"repeatCount","indefinite"),z(r,"offset","0%"),z(r,"stop-color","var(--gradient-stop1)"),z(s,"offset","25%"),z(s,"stop-color","var(--gradient-stop2)"),z(c,"offset","50%"),z(c,"stop-color","var(--gradient-stop1)"),z(l,"offset","75%"),z(l,"stop-color","var(--gradient-stop2)"),z(a,"offset","100%"),z(a,"stop-color","var(--gradient-stop1)"),z(n,"id","gradient"),z(n,"x1","50%"),z(n,"y1","-200%"),z(n,"x2","50%"),z(n,"y2","200%"),z(p,"d","M42 26h4v4c0 9.265-7 16.895-16 17.89V55h-4v-7.11c-8.892-.982-15.833-8.444-15.997-17.56L10 30v-4h4v4c0 7.732 6.268 14 14 14 7.628 0 13.83-6.1 13.997-13.687L42 30v-4z"),z(h,"x","20"),z(h,"y","1"),z(h,"width","16"),z(h,"height","37"),z(h,"rx","8"),z(d,"fill","url(#gradient)"),z(d,"fill-rule","evenodd"),z(e,"class","Icon svelte-s2u2hd"),z(e,"viewBox","0 0 56 56"),z(e,"xmlns","http://www.w3.org/2000/svg")},m(t,m){y(t,e,m),f(e,n),f(n,o),f(n,i),f(n,r),f(n,s),f(n,c),f(n,l),f(n,a),f(e,u),f(e,d),f(d,p),f(d,h)},d(t){t&&b(e)}}}function wt(t){let e,n,o,i;return{c(){e=v("svg"),n=v("g"),o=v("path"),i=v("rect"),z(o,"d","M42 26h4v4c0 9.265-7 16.895-16 17.89V55h-4v-7.11c-8.892-.982-15.833-8.444-15.997-17.56L10 30v-4h4v4c0 7.732 6.268 14 14 14 7.628 0 13.83-6.1 13.997-13.687L42 30v-4z"),z(i,"x","20"),z(i,"y","1"),z(i,"width","16"),z(i,"height","37"),z(i,"rx","8"),z(n,"fill","var(--icon-color)"),z(n,"fill-rule","evenodd"),z(e,"class","Icon svelte-s2u2hd"),z(e,"viewBox","0 0 56 56"),z(e,"xmlns","http://www.w3.org/2000/svg")},m(t,r){y(t,e,r),f(e,n),f(n,o),f(n,i)},d(t){t&&b(e)}}}function vt(t){let e,n,o,i;return{c(){e=v("svg"),n=v("g"),o=v("path"),i=v("path"),z(o,"d","M42 26h4v4c0 9.265-7 16.895-16 17.89V55h-4v-7.11c-8.892-.982-15.833-8.444-15.997-17.56L10 30v-4h4v4c0 7.732 6.268 14 14 14 7.628 0 13.83-6.1 13.997-13.687L42 30v-4z"),z(o,"fill-rule","nonzero"),z(i,"d","M37 13.081V31a8 8 0 11-16 0v-1.919l16-16zM26 1a8 8 0 018 8v1.319L18 26.318V9a8 8 0 018-8zM37.969 7.932l3.74-7.35 3.018 2.625zM39.654 10.608l7.531-3.359.695 3.94z"),z(n,"fill","var(--icon-color)"),z(n,"fill-rule","evenodd"),z(e,"class","Icon svelte-s2u2hd"),z(e,"viewBox","0 0 56 56"),z(e,"xmlns","http://www.w3.org/2000/svg")},m(t,r){y(t,e,r),f(e,n),f(n,o),f(n,i)},d(t){t&&b(e)}}}function $t(t){let e,n,o,i;return{c(){e=v("svg"),n=v("g"),o=v("path"),i=v("path"),z(o,"d","M36 14.828V30a8 8 0 01-15.961.79l15.96-15.962zM28 1a8 8 0 018 8v.172L20 25.173V9a8 8 0 018-8z"),z(i,"d","M42 26h4v4c0 9.265-7 16.895-16 17.89V55h-4v-7.11c-8.892-.982-15.833-8.444-15.997-17.56L10 30v-4h4v4c0 7.732 6.268 14 14 14 7.628 0 13.83-6.1 13.997-13.687L42 30v-4z"),z(n,"fill","var(--icon-color)"),z(n,"fill-rule","nonzero"),z(e,"class","Icon svelte-s2u2hd"),z(e,"viewBox","0 0 56 56"),z(e,"xmlns","http://www.w3.org/2000/svg")},m(t,r){y(t,e,r),f(e,n),f(n,o),f(n,i)},d(t){t&&b(e)}}}function xt(e){let n,o,i,r,s=e[0]===ht.MicActive&&bt(),c=e[0]===ht.Mic&&wt(),l=e[0]===ht.Error&&vt(),a=e[0]===ht.Denied&&$t();return{c(){s&&s.c(),n=x(),c&&c.c(),o=x(),l&&l.c(),i=x(),a&&a.c(),r=k()},m(t,e){s&&s.m(t,e),y(t,n,e),c&&c.m(t,e),y(t,o,e),l&&l.m(t,e),y(t,i,e),a&&a.m(t,e),y(t,r,e)},p(t,[e]){t[0]===ht.MicActive?s||(s=bt(),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null),t[0]===ht.Mic?c||(c=wt(),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null),t[0]===ht.Error?l||(l=vt(),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null),t[0]===ht.Denied?a||(a=$t(),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i:t,o:t,d(t){s&&s.d(t),t&&b(n),c&&c.d(t),t&&b(o),l&&l.d(t),t&&b(i),a&&a.d(t),t&&b(r)}}}function kt(t,e,n){let{icon:o=ht.Mic}=e;return t.$$set=t=>{"icon"in t&&n(0,o=t.icon)},[o]}!function(t){t[t.Failed=0]="Failed",t[t.NoBrowserSupport=1]="NoBrowserSupport",t[t.NoAudioConsent=2]="NoAudioConsent",t[t.__UnrecoverableErrors=3]="__UnrecoverableErrors",t[t.Disconnected=4]="Disconnected",t[t.Disconnecting=5]="Disconnecting",t[t.Connecting=6]="Connecting",t[t.Preinitialized=7]="Preinitialized",t[t.Initializing=8]="Initializing",t[t.Connected=9]="Connected",t[t.Stopping=10]="Stopping",t[t.Starting=11]="Starting",t[t.Recording=12]="Recording"}(ut||(ut={})),function(t){t.SpeechlyFirstConnect="SpeechlyFirstConnect"}(dt||(dt={})),function(t){t.speechlypoweron="speechlypoweron",t.holdstart="holdstart",t.holdend="holdend",t.speechstate="speechstate",t.speechsegment="speechsegment",t.speechhandled="speechhandled",t.showhint="showhint",t.transcriptdrawerhint="hint",t.speechlyintroready="speechlyintroready",t.speechlyintroclosed="speechlyintroclosed"}(pt||(pt={})),function(t){t.Mic="mic",t.MicActive="micactive",t.Error="error",t.Denied="denied"}(ht||(ht={})),function(t){t.Hold="hold",t.Click="click",t.Noninteractive="noninteractive"}(ft||(ft={})),function(t){t.None="none",t.Connecting="connecting",t.Busy="busy"}(mt||(mt={})),function(t){t.None="none",t.Whirl="whirl"}(gt||(gt={})),ut.Disconnected,ut.Disconnecting,ut.Connecting,ut.Preinitialized,ut.Initializing,ut.Connected,ut.Starting,ut.Recording,ut.Stopping,ut.Failed,ut.NoBrowserSupport,ut.NoAudioConsent;class _t extends class{$destroy(){rt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!l(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),ct(this,t,kt,xt,s,{icon:0},yt)}}const{window:zt}=ot;function Ct(t){let e;return{c(){e=w("link"),z(e,"href","https://fonts.googleapis.com/css2?family=Saira+Condensed:wght@700&display=swap"),z(e,"rel","stylesheet")},m(t,n){y(t,e,n)},d(t){t&&b(e)}}}function Et(t){let e;return{c(){e=w("link"),z(e,"href",t[3]),z(e,"rel","stylesheet")},m(t,n){y(t,e,n)},p(t,n){8&n&&z(e,"href",t[3])},d(t){t&&b(e)}}}function St(t){let e,n,o,i,r,s,c,l,a,u,d,p;const h=[Lt,At,Tt,Mt,Nt],m=[];function g(t,e){return t[4]===Rt||t[4]===ut.Initializing?0:t[4]===Ot?1:t[4]===ut.NoAudioConsent?2:t[4]===ut.NoBrowserSupport?3:4}return s=g(t),c=m[s]=h[s](t),{c(){e=w("modalbg"),o=x(),i=w("modalcontent"),r=w("main"),c.c(),l=x(),a=w("footer"),a.innerHTML='Voice input is automatically transcribed by <a target="_blank" href="https://speechly.com/" rel="noopener noreferrer">Speechly</a> and can be used to improve the quality of service under <a target="_blank" href="https://www.speechly.com/privacy/terms-and-conditions" rel="noopener noreferrer">terms of use</a>.',z(i,"class",t[1]),E(i,"defaultTypography",t[7])},m(n,c){y(n,e,c),y(n,o,c),y(n,i,c),f(i,r),m[s].m(r,null),f(i,l),f(i,a),u=!0,d||(p=_(e,"click",t[9]),d=!0)},p(t,e){let n=s;s=g(t),s===n?m[s].p(t,e):(X(),tt(m[n],1,1,(()=>{m[n]=null})),Y(),c=m[s],c?c.p(t,e):(c=m[s]=h[s](t),c.c()),Z(c,1),c.m(r,null)),(!u||2&e)&&z(i,"class",t[1]),130&e&&E(i,"defaultTypography",t[7])},i(o){u||(V((()=>{n||(n=nt(e,t[8],{duration:200},!0)),n.run(1)})),Z(c),u=!0)},o(o){n||(n=nt(e,t[8],{duration:200},!1)),n.run(0),tt(c),u=!1},d(t){t&&b(e),t&&n&&n.end(),t&&b(o),t&&b(i),m[s].d(),d=!1,p()}}}function Nt(e){let n,o,i,r,s,c,l,a;function u(t,e){return t[2]?It:Dt}let d=u(e),p=d(e);return{c(){n=w("h2"),n.textContent="Failed to connect to Speechly",o=x(),i=w("p"),p.c(),r=x(),s=w("options"),c=w("button"),c.textContent="Ok, got it",z(c,"class","button button-primary")},m(t,u){y(t,n,u),y(t,o,u),y(t,i,u),p.m(i,null),y(t,r,u),y(t,s,u),f(s,c),l||(a=_(c,"click",e[9]),l=!0)},p(t,e){d===(d=u(t))&&p?p.p(t,e):(p.d(1),p=d(t),p&&(p.c(),p.m(i,null)))},i:t,o:t,d(t){t&&b(n),t&&b(o),t&&b(i),p.d(),t&&b(r),t&&b(s),l=!1,a()}}}function Mt(e){let n,o,i,r,s,c,l,a;return{c(){n=w("h2"),n.textContent="Unsupported browser",o=x(),i=w("p"),i.textContent="To use voice input, please visit this site using a supported browser.",r=x(),s=w("options"),c=w("button"),c.textContent="Ok, got it",z(c,"class","button button-primary")},m(t,u){y(t,n,u),y(t,o,u),y(t,i,u),y(t,r,u),y(t,s,u),f(s,c),l||(a=_(c,"click",e[9]),l=!0)},p:t,i:t,o:t,d(t){t&&b(n),t&&b(o),t&&b(i),t&&b(r),t&&b(s),l=!1,a()}}}function Tt(e){let n,o,r,s,c,l,a,u,d,p;return{c(){n=w("h2"),n.textContent="Microphone blocked",o=x(),r=w("p"),r.textContent=`To use voice input, ${window.location.hostname} needs access to your microphone. Check your\n          browser preferences to allow microphone access and reload the page.`,s=x(),c=w("options"),l=w("button"),l.textContent="Ok, got it",a=x(),u=w("button"),u.textContent="Reload page",z(l,"class","button button-secondary"),z(u,"class","button button-primary")},m(t,i){y(t,n,i),y(t,o,i),y(t,r,i),y(t,s,i),y(t,c,i),f(c,l),f(c,a),f(c,u),d||(p=[_(l,"click",e[9]),_(u,"click",e[18])],d=!0)},p:t,i:t,o:t,d(t){t&&b(n),t&&b(o),t&&b(r),t&&b(s),t&&b(c),d=!1,i(p)}}}function At(e){let n,o,r,s,c,l,a,u,d,p;return{c(){n=w("h2"),n.textContent="HTTPS required",o=x(),r=w("p"),r.textContent="To use the voice interface, please visit this site using the secure\n          HTTPS protocol.",s=x(),c=w("options"),l=w("button"),l.textContent="Ok, got it",a=x(),u=w("button"),u.textContent="Try with HTTPS",z(l,"class","button button-secondary"),z(u,"class","button button-primary")},m(t,i){y(t,n,i),y(t,o,i),y(t,r,i),y(t,s,i),y(t,c,i),f(c,l),f(c,a),f(c,u),d||(p=[_(l,"click",e[9]),_(u,"click",e[13])],d=!0)},p:t,i:t,o:t,d(t){t&&b(n),t&&b(o),t&&b(r),t&&b(s),t&&b(c),d=!1,i(p)}}}function Lt(t){let e,n,o,i,r,s,c,l,a,u,d,p,h,m,g,v,k,E,S,N=window.location.hostname+"";d=new _t({});let M=t[5]&&Pt(t);return{c(){var t;e=w("h2"),e.innerHTML='<slot name="priming-title">Allow microphone</slot>',n=x(),o=w("p"),i=w("slot"),r=$("To use voice input, press "),s=w("strong"),s.textContent="Allow",c=$(" to give "),l=$(N),a=$(" access to your microphone.\n            Audio is only captured when "),u=w("span"),(t=d.$$.fragment)&&t.c(),p=$(" button is pressed."),h=x(),m=w("options"),g=w("button"),g.textContent="Not now",v=x(),M&&M.c(),C(u,"display","inline-block"),C(u,"position","relative"),C(u,"color","white"),C(u,"width","20px"),C(u,"height","10px"),C(u,"--icon-color","white"),C(u,"--icon-size","20px"),z(i,"name","priming-body"),z(g,"class","button button-secondary")},m(b,w){y(b,e,w),y(b,n,w),y(b,o,w),f(o,i),f(i,r),f(i,s),f(i,c),f(i,l),f(i,a),f(i,u),it(d,u,null),f(i,p),y(b,h,w),y(b,m,w),f(m,g),f(m,v),M&&M.m(m,null),k=!0,E||(S=_(g,"click",t[9]),E=!0)},p(t,e){t[5]?M?M.p(t,e):(M=Pt(t),M.c(),M.m(m,null)):M&&(M.d(1),M=null)},i(t){k||(Z(d.$$.fragment,t),k=!0)},o(t){tt(d.$$.fragment,t),k=!1},d(t){t&&b(e),t&&b(n),t&&b(o),rt(d),t&&b(h),t&&b(m),M&&M.d(),E=!1,S()}}}function Dt(e){let n;return{c(){n=$("Please check that your application has been successfully deployed.")},m(t,e){y(t,n,e)},p:t,d(t){t&&b(n)}}}function It(t){let e,n,o;return{c(){e=$("Please check that your application (App ID: "),n=$(t[2]),o=$(") has been successfully deployed.")},m(t,i){y(t,e,i),y(t,n,i),y(t,o,i)},p(t,e){4&e&&function(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}(n,t[2])},d(t){t&&b(e),t&&b(n),t&&b(o)}}}function Pt(t){let e,n,o,i,r;return{c(){e=w("button"),n=$("Allow"),z(e,"class","button button-primary"),e.disabled=o=t[4]===ut.Initializing},m(o,s){y(o,e,s),f(e,n),i||(r=_(e,"click",t[10]),i=!0)},p(t,n){16&n&&o!==(o=t[4]===ut.Initializing)&&(e.disabled=o)},d(t){t&&b(e),i=!1,r()}}}function Bt(e){let n,o,r,s,c,l,a,u=e[7]&&Ct(),d=void 0!==e[3]&&Et(e),p=e[6]&&St(e);return{c(){u&&u.c(),n=k(),o=x(),d&&d.c(),r=x(),s=w("modal"),p&&p.c(),this.c=t,C(s,"--remsize",e[0])},m(t,i){u&&u.m(document.head,null),f(document.head,n),y(t,o,i),d&&d.m(t,i),y(t,r,i),y(t,s,i),p&&p.m(s,null),c=!0,l||(a=[_(zt,"keydown",e[11]),_(zt,"message",e[12])],l=!0)},p(t,[e]){t[7]?u||(u=Ct(),u.c(),u.m(n.parentNode,n)):u&&(u.d(1),u=null),void 0!==t[3]?d?d.p(t,e):(d=Et(t),d.c(),d.m(r.parentNode,r)):d&&(d.d(1),d=null),t[6]?p?(p.p(t,e),64&e&&Z(p,1)):(p=St(t),p.c(),Z(p,1),p.m(s,null)):p&&(X(),tt(p,1,1,(()=>{p=null})),Y()),(!c||1&e)&&C(s,"--remsize",t[0])},i(t){c||(Z(p),c=!0)},o(t){tt(p),c=!1},d(t){u&&u.d(t),b(n),t&&b(o),d&&d.d(t),t&&b(r),t&&b(s),p&&p.d(),l=!1,i(a)}}}const Rt="PagePriming",Ot="HttpsRequired";function Ft(t,e,n){let o,i,{hide:r="auto"}=e,{clientstate:s}=e,{remsize:c="1.0rem"}=e,{position:l="fixed"}=e,{appid:a}=e,{customcssurl:u}=e,{customtypography:d}=e,p=!0;const h=(()=>{const t=I();return(e,n)=>{t.dispatchEvent(new CustomEvent(e,{detail:n,composed:!0}))}})(),f=(m=at,function(t,e){if(!t.hasOwnProperty("ownerDocument")){Object.defineProperty(t,"ownerDocument",{get:function(){return t.parentElement}});let e=t;for(;e.parentElement;)e=e.parentElement;t.parentElement.head=e}return m(t,e)});var m;let g=!1,y=Rt,b=null,w=!1;var v;v=()=>{n(17,g=!0),window.postMessage({type:pt.speechlyintroready},"*")},I().$$.on_mount.push(v);const $=(t={})=>{n(6,o=!1),h("speechlyintroclosed",t),window.postMessage(Object.assign({type:pt.speechlyintroclosed},t),"*")},x=t=>{var e,i;("auto"===r&&n(6,o=!0),b&&(window.clearTimeout(b),b=null),"https:"===(null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.protocol)||("localhost"===(i=window.location.hostname)||"[::1]"===i||null!==i.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)))?n(4,y=t):n(4,y=Ot)},k=t=>{switch(t){case ut.Initializing:y===Rt?(n(4,y=t),b=window.setTimeout((()=>{b=null,"auto"===r&&n(6,o=!0)}),500)):n(6,o=!0);break;case ut.Connected:p&&(p=!1,b?(window.clearTimeout(b),b=null,$()):$({firstrun:!0}));break;case ut.Failed:case ut.NoAudioConsent:case ut.NoBrowserSupport:x(t)}};return t.$$set=t=>{"hide"in t&&n(14,r=t.hide),"clientstate"in t&&n(15,s=t.clientstate),"remsize"in t&&n(0,c=t.remsize),"position"in t&&n(1,l=t.position),"appid"in t&&n(2,a=t.appid),"customcssurl"in t&&n(3,u=t.customcssurl),"customtypography"in t&&n(16,d=t.customtypography)},t.$$.update=()=>{32768&t.$$.dirty&&s&&k(parseInt(s)),147456&t.$$.dirty&&n(6,o=g&&"false"===r),65536&t.$$.dirty&&n(7,i=void 0===d||"false"===d)},[c,l,a,u,y,w,o,i,f,$,()=>{window.SpeechlyClient.initialize()},t=>{g&&"Escape"===t.key&&(t.preventDefault(),$())},t=>{switch(t.data.type){case pt.speechlypoweron:"auto"===r&&n(6,o=!0),n(5,w=!0);break;case pt.speechstate:k(t.data.state);break;case pt.holdstart:switch(t.data.state){case ut.Failed:case ut.NoAudioConsent:case ut.NoBrowserSupport:x(t.data.state)}}},()=>{const t=window.location.href.replace("http:","https:");window.location.replace(t)},r,s,d,g,()=>{window.location.reload()}]}class Ht extends lt{constructor(t){super(),this.shadowRoot.innerHTML="<style>modal{font-size:var(--remsize);pointer-events:none;height:100%}modalbg{position:fixed;top:0;bottom:0;left:0;right:0;overflow:hidden;z-index:2000;pointer-events:auto;background-color:rgba(0,0,0,0.75);backdrop-filter:blur(3px)}modalcontent{z-index:2001;pointer-events:auto;box-sizing:border-box;width:100%;min-height:100%;padding:1.5rem;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#fff}modalcontent.fixed{position:fixed;top:0;left:0;right:0;bottom:0;overflow-x:hidden;overflow-y:auto}modalcontent.absolute{position:absolute;top:0;left:0;right:0;height:100vh}.defaultTypography{font-family:-apple-system, system-ui, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif;color:#fff;font-size:1rem;line-height:1.5}.defaultTypography h2{font-family:'Saira Condensed', sans-serif;padding:0;margin:0;text-transform:uppercase;color:#fff;font-size:1.5rem;line-height:1.25}main{position:relative;box-sizing:border-box;width:100%;max-width:400px;margin:auto 0;padding:1.5rem 0}options{display:flex;margin-top:2rem;gap:8px}.button{background-color:transparent;box-sizing:border-box;border:1px solid transparent;border-radius:999px;cursor:pointer;font-family:inherit;font-size:1rem;font-weight:600;line-height:1.25;min-width:7rem;padding:0.5rem 1.5rem;transition:all 0.15s ease;white-space:nowrap;-webkit-tap-highlight-color:transparent}.button[disabled],.button:disabled{cursor:auto;opacity:0.5;pointer-events:none}.button-secondary{border-color:#fff;color:#fff}.button-secondary:hover{border-color:#ccc;color:#ccc}.button-primary{background-color:#fff;border-color:#fff;color:#000}.button-primary:hover{border-color:#ccc;background-color:#ccc;color:#000}footer{box-sizing:border-box;font-size:0.75rem;color:#999;margin:0}a,a:visited{color:#999;transition:all 0.15s ease;-webkit-tap-highlight-color:transparent}a:hover{color:#ccc}</style>",ct(this,{target:this.shadowRoot,props:S(this.attributes),customElement:!0},Ft,Bt,c,{hide:14,clientstate:15,remsize:0,position:1,appid:2,customcssurl:3,customtypography:16},null),t&&(t.target&&y(t.target,this,t.anchor),t.props&&(this.$set(t.props),U()))}static get observedAttributes(){return["hide","clientstate","remsize","position","appid","customcssurl","customtypography"]}get hide(){return this.$$.ctx[14]}set hide(t){this.$$set({hide:t}),U()}get clientstate(){return this.$$.ctx[15]}set clientstate(t){this.$$set({clientstate:t}),U()}get remsize(){return this.$$.ctx[0]}set remsize(t){this.$$set({remsize:t}),U()}get position(){return this.$$.ctx[1]}set position(t){this.$$set({position:t}),U()}get appid(){return this.$$.ctx[2]}set appid(t){this.$$set({appid:t}),U()}get customcssurl(){return this.$$.ctx[3]}set customcssurl(t){this.$$set({customcssurl:t}),U()}get customtypography(){return this.$$.ctx[16]}set customtypography(t){this.$$set({customtypography:t}),U()}}customElements.get("intro-popup")?console.warn("Skipping re-defining customElement intro-popup"):customElements.define("intro-popup",Ht)}));
//# sourceMappingURL=intro-popup.js.map
